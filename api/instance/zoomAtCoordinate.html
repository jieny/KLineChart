<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zoomAtCoordinate(scale, coordinate?, animationDuration?) | KLineChart</title>
    <meta name="description" content="💹📈 可高度自定义的专业级轻量金融图表。">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CDnHH9vU.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.d67478d0.js"></script>
    <script type="module" src="/assets/app.DdfyjjQi.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BxsqMCiz.js">
    <link rel="modulepreload" href="/assets/chunks/framework.eHlPqORj.js">
    <link rel="modulepreload" href="/assets/chunks/index.B1JI1UeE.js">
    <link rel="modulepreload" href="/assets/api_instance_zoomAtCoordinate.md.ChZ7YLIq.lean.js">
    <link rel="icon" type="image/svg+xml" href="/images/logo.svg">
    <script>/**
     * @license
     * KLineChart v10.0.0-alpha3
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */(function(m,Dt){typeof exports=="object"&&typeof module<"u"?Dt(exports):typeof define=="function"&&define.amd?define(["exports"],Dt):Dt((m=typeof globalThis<"u"?globalThis:m||self).klinecharts={})})(this,function(m){"use strict";var Dt=function(r,e){return Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},Dt(r,e)};function N(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}Dt(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ae,he,de,Re,pe,Be,Bt,wt,A=function(){return A=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},A.apply(this,arguments)};function $t(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]])}return t}function Fe(r,e,t,i){return new(t||(t=Promise))(function(n,o){function a(u){try{l(i.next(u))}catch(c){o(c)}}function s(u){try{l(i.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?n(u.value):(c=u.value,c instanceof t?c:new t(function(h){h(c)})).then(a,s)}l((i=i.apply(r,e||[])).next())})}function Le(r,e){var t,i,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(t=1,i&&(n=2&c[0]?i.return:c[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,c[1])).done)return n;switch(i=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!((n=n.length>0&&n[n.length-1])||c[0]!==6&&c[0]!==2)){o=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(c[0]===6&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(r,o)}catch(h){c=[6,h],i=0}finally{t=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function tt(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i,n,o=t.call(r),a=[];try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a}function Yt(r,e,t){if(t||arguments.length===2)for(var i,n=0,o=e.length;n<o;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function Y(r,e){if(nt(r)||nt(e)){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=r[t],n=e[t];nt(n)&&nt(i)?Y(i,n):E(e[t])&&(r[t]=Ft(e[t]))}}}function Ft(r){if(!nt(r))return r;var e=null;for(var t in e=st(r)?[]:{},r)if(Object.prototype.hasOwnProperty.call(r,t)){var i=r[t];nt(i)?e[t]=Ft(i):e[t]=i}return e}function st(r){return Object.prototype.toString.call(r)==="[object Array]"}function j(r){return typeof r=="function"}function nt(r){return typeof r=="object"&&E(r)}function L(r){return typeof r=="number"&&Number.isFinite(r)}function E(r){return r!=null}function Ht(r){return typeof r=="boolean"}function z(r){return typeof r=="string"}function Lt(r){return r==="transparent"||r==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(r)||/^[hH][Ss][Ll][Aa]\(([\s]*(360｜3[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(r)}function Et(r,e){var t=r.replace(/^#/,""),i=parseInt(t,16),n=i>>8&255,o=255&i;return"rgba(".concat(i>>16&255,", ").concat(n,", ").concat(o,", ").concat(e??1,")")}typeof SuppressedError=="function"&&SuppressedError,m.LineType=void 0,(Ae=m.LineType||(m.LineType={})).Dashed="dashed",Ae.Solid="solid",m.PolygonType=void 0,(he=m.PolygonType||(m.PolygonType={})).Stroke="stroke",he.Fill="fill",he.StrokeFill="stroke_fill",m.TooltipShowRule=void 0,(de=m.TooltipShowRule||(m.TooltipShowRule={})).Always="always",de.FollowCross="follow_cross",de.None="none",m.TooltipShowType=void 0,(Re=m.TooltipShowType||(m.TooltipShowType={})).Standard="standard",Re.Rect="rect",m.TooltipIconPosition=void 0,(pe=m.TooltipIconPosition||(m.TooltipIconPosition={})).Left="left",pe.Middle="middle",pe.Right="right",m.CandleTooltipRectPosition=void 0,(Be=m.CandleTooltipRectPosition||(m.CandleTooltipRectPosition={})).Fixed="fixed",Be.Pointer="pointer",m.CandleType=void 0,(Bt=m.CandleType||(m.CandleType={})).CandleSolid="candle_solid",Bt.CandleStroke="candle_stroke",Bt.CandleUpStroke="candle_up_stroke",Bt.CandleDownStroke="candle_down_stroke",Bt.Ohlc="ohlc",Bt.Area="area",function(r){r.CurrentOpen="current_open",r.PreviousClose="previous_close"}(wt||(wt={}));var W={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function Oe(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:W.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function Ui(){function r(){return{show:!0,line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,2],size:1,color:W.GREY},text:{show:!0,style:m.PolygonType.Fill,color:W.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:W.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:W.GREY}}}return{show:!0,horizontal:r(),vertical:r()}}var Zi=/\\(\\)?/g,ji=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function G(r,e,t){if(E(r)){var i=[];e.replace(ji,function(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];var c=s;return E(l[1])?c=l[2].replace(Zi,"$1"):E(l[0])&&(c=l[0].trim()),i.push(c),""});for(var n=r,o=0,a=i.length;E(n)&&o<a;)n=n?.[i[o++]];return E(n)?n:t??"--"}return t??"--"}function We(r,e){var t={};return r.formatToParts(new Date(e)).forEach(function(i){var n=i.type,o=i.value;switch(n){case"year":t.YYYY=o;break;case"month":t.MM=o;break;case"day":t.DD=o;break;case"hour":t.HH=o==="24"?"00":o;break;case"minute":t.mm=o;break;case"second":t.ss=o}}),t}function Ne(r,e,t){var i=We(r,e);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(n){return i[n]})}function q(r,e){var t=+r;return L(t)?t.toFixed(e??2):"".concat(r)}function Ve(r){var e=+r;if(L(e)){if(e>1e9)return"".concat(+(e/1e9).toFixed(3),"B");if(e>1e6)return"".concat(+(e/1e6).toFixed(3),"M");if(e>1e3)return"".concat(+(e/1e3).toFixed(3),"K")}return"".concat(r)}function ze(r,e){var t="".concat(r);if(e.length===0)return t;if(t.includes(".")){var i=t.split(".");return"".concat(i[0].replace(/(\d)(?=(\d{3})+$)/g,function(n){return"".concat(n).concat(e)}),".").concat(i[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(n){return"".concat(n).concat(e)})}function Ye(r,e){var t="".concat(r);if(new RegExp("\\.0{"+e+",}[1-9][0-9]*$").test(t)){var i=t.split("."),n=i.length-1,o=i[n],a=/0*/.exec(o);if(E(a)){var s=a[0].length;return i[n]=o.replace(/0*/,"0{".concat(s,"}")),i.join(".")}}return t}var Mt,Qt=null;function St(r){var e,t;return(t=(e=r.ownerDocument.defaultView)===null||e===void 0?void 0:e.devicePixelRatio)!==null&&t!==void 0?t:1}function At(r,e,t){return"".concat(e??"normal"," ").concat(r??12,"px ").concat(t??"Helvetica Neue")}function Xt(r,e,t,i){if(!E(Qt)){var n=document.createElement("canvas"),o=St(n);(Qt=n.getContext("2d")).scale(o,o)}return Qt.font=At(e,t,i),Math.round(Qt.measureText(r).width)}m.ActionType=void 0,(Mt=m.ActionType||(m.ActionType={})).OnZoom="onZoom",Mt.OnScroll="onScroll",Mt.OnVisibleRangeChange="onVisibleRangeChange",Mt.OnTooltipIconClick="onTooltipIconClick",Mt.OnCrosshairChange="onCrosshairChange",Mt.OnCandleBarClick="onCandleBarClick",Mt.OnPaneDrag="onPaneDrag";var ge,Gt,qi=function(){function r(){this._callbacks=[]}return r.prototype.subscribe=function(e){this._callbacks.indexOf(e)<0&&this._callbacks.push(e)},r.prototype.unsubscribe=function(e){if(j(e)){var t=this._callbacks.indexOf(e);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},r.prototype.execute=function(e){this._callbacks.forEach(function(t){t(e)})},r.prototype.isEmpty=function(){return this._callbacks.length===0},r}();function ve(r,e,t,i){var n,o=r.result,a=r.figures,s=r.styles,l=G(s,"circles",t.circles),u=l.length,c=G(s,"bars",t.bars),h=c.length,p=G(s,"lines",t.lines),d=p.length,v=0,g=0,f=0,y=0;a.forEach(function(x){var _;switch(x.type){case"circle":y=v;var b=l[v%u];n=A(A({},b),{color:b.noChangeColor}),v++;break;case"bar":y=g;var T=c[g%h];n=A(A({},T),{color:T.noChangeColor}),g++;break;case"line":y=f,n=p[f%d],f++}if(E(x.type)){var C=(_=x.styles)===null||_===void 0?void 0:_.call(x,{data:{prev:o[e-1],current:o[e],next:o[e+1]},indicator:r,defaultStyles:t});i(x,A(A({},n),C),y)}})}m.IndicatorSeries=void 0,(ge=m.IndicatorSeries||(m.IndicatorSeries={})).Normal="normal",ge.Price="price",ge.Volume="volume",function(r){r.Loading="loading",r.Error="error",r.Ready="ready"}(Gt||(Gt={}));var fe,He=function(){function r(e){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series=m.IndicatorSeries.Normal,this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,i){var n=JSON.stringify(t.calcParams)!==JSON.stringify(i.calcParams)||t.figures!==i.figures||t.calc!==i.calc;return{calc:n,draw:n||t.shortName!==i.shortName||t.series!==i.series||t.minValue!==i.minValue||t.maxValue!==i.maxValue||t.precision!==i.precision||t.shouldOhlc!==i.shouldOhlc||t.shouldFormatBigNumber!==i.shouldFormatBigNumber||t.visible!==i.visible||t.zLevel!==i.zLevel||t.extendData!==i.extendData||t.regenerateFigures!==i.regenerateFigures||t.createTooltipDataSource!==i.createTooltipDataSource||t.draw!==i.draw}},this.calc=function(){return[]},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.onDataStateChange=null,this.result=[],this._lockSeriesPrecision=!1,this.override(e),this._lockSeriesPrecision=!1}return r.prototype.override=function(e){var t,i,n=this.result,o=$t(this,["result"]);this._prevIndicator=A(A({},Ft(o)),{result:n});var a=e.id,s=e.name,l=e.shortName,u=e.precision,c=e.styles,h=e.figures,p=e.calcParams,d=$t(e,["id","name","shortName","precision","styles","figures","calcParams"]);!z(this.id)&&z(a)&&(this.id=a),z(this.name)||(this.name=s??""),this.shortName=(t=l??this.shortName)!==null&&t!==void 0?t:this.name,L(u)&&(this.precision=u,this._lockSeriesPrecision=!0),E(c)&&((i=this.styles)!==null&&i!==void 0||(this.styles={}),Y(this.styles,c)),Y(this,d),E(p)&&(this.calcParams=p,j(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=h??this.figures},r.prototype.setSeriesPrecision=function(e){this._lockSeriesPrecision||(this.precision=e)},r.prototype.shouldUpdateImp=function(){var e=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return Ht(t)?{calc:t,draw:t,sort:e}:A(A({},t),{sort:e})},r.prototype.calcImp=function(e){return Fe(this,void 0,void 0,function(){var t;return Le(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.calc(e,this)];case 1:return t=i.sent(),this.result=t,[2,!0];case 2:return i.sent(),[2,!1];case 3:return[2]}})})},r.extend=function(e){return function(t){function i(){return t.call(this,e)||this}return N(i,t),i}(r)},r}();function lt(r,e){var t,i=(t=e?.ignoreEvent)!==null&&t!==void 0&&t;return Ht(i)?!i:!i.includes(r)}m.OverlayMode=void 0,(fe=m.OverlayMode||(m.OverlayMode={})).Normal="normal",fe.WeakMagnet="weak_magnet",fe.StrongMagnet="strong_magnet";var Ot,Wt="overlay_figure_",Xe=function(){function r(e){this.groupId="",this.totalStep=1,this.currentStep=1,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode=m.OverlayMode.Normal,this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(e)}return r.prototype.override=function(e){var t,i;this._prevOverlay=Ft(this);var n=e.id,o=e.name;e.currentStep;var a=e.points,s=e.styles;if(Y(this,$t(e,["id","name","currentStep","points","styles"])),z(this.name)||(this.name=o??""),!z(this.id)&&z(n)&&(this.id=n),E(s)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),Y(this.styles,s)),st(a)&&a.length>0){var l=0;if(this.points=Yt([],pt(a),!1),a.length>=this.totalStep-1?(this.currentStep=-1,l=this.totalStep-1):(this.currentStep=a.length+1,l=a.length),j(this.performEventMoveForDrawing))for(var u=0;u<l;u++)this.performEventMoveForDrawing({currentStep:u+2,mode:this.mode,points:this.points,performPointIndex:u,performPoint:this.points[u]});this.currentStep===-1&&((i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},r.prototype.getPrevZLevel=function(){return this._prevZLevel},r.prototype.setPrevZLevel=function(e){this._prevZLevel=e},r.prototype.shouldUpdate=function(){var e=this._prevOverlay.zLevel!==this.zLevel;return{sort:e,draw:e||JSON.stringify(this._prevOverlay)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles}},r.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},r.prototype.forceComplete=function(){this.currentStep=-1},r.prototype.isDrawing=function(){return this.currentStep!==-1},r.prototype.isStart=function(){return this.currentStep===1},r.prototype.eventMoveForDrawing=function(e){var t,i=this.currentStep-1,n={};L(e.timestamp)&&(n.timestamp=e.timestamp),L(e.dataIndex)&&(n.dataIndex=e.dataIndex),L(e.value)&&(n.value=e.value),this.points[i]=n,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:i,performPoint:n})},r.prototype.eventPressedPointMove=function(e,t){var i;this.points[t].timestamp=e.timestamp,L(e.value)&&(this.points[t].value=e.value),(i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},r.prototype.startPressedMove=function(e){this._prevPressedPoint=A({},e),this._prevPressedPoints=Ft(this.points)},r.prototype.eventPressedOtherMove=function(e,t){if(this._prevPressedPoint!==null){var i=null;L(e.dataIndex)&&L(this._prevPressedPoint.dataIndex)&&(i=e.dataIndex-this._prevPressedPoint.dataIndex);var n=null;L(e.value)&&L(this._prevPressedPoint.value)&&(n=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var a;L(o.timestamp)&&(o.dataIndex=t.timestampToDataIndex(o.timestamp));var s=A({},o);return L(i)&&L(o.dataIndex)&&(s.dataIndex=o.dataIndex+i,s.timestamp=(a=t.dataIndexToTimestamp(s.dataIndex))!==null&&a!==void 0?a:void 0),L(n)&&L(o.value)&&(s.value=o.value+n),s})}},r.extend=function(e){return function(t){function i(){return t.call(this,e)||this}return N(i,t),i}(r)},r}();function te(r){var e={width:0,height:0,left:0,right:0,top:0,bottom:0};return E(r)&&Y(e,r),e}m.FormatDateType=void 0,(Ot=m.FormatDateType||(m.FormatDateType={}))[Ot.Tooltip=0]="Tooltip",Ot[Ot.Crosshair=1]="Crosshair",Ot[Ot.XAxis=2]="XAxis";var Nt=-1;function ee(r){return j(window.requestAnimationFrame)?window.requestAnimationFrame(r):window.setTimeout(r,20)}function Ge(r){j(window.cancelAnimationFrame)?window.cancelAnimationFrame(r):window.clearTimeout(r)}function Ue(r){if(j(window.requestIdleCallback))return window.requestIdleCallback(r);var e=performance.now();return window.setTimeout(function(){r({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-e))}})},1)}var et,ye=function(){function r(e){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,Y(this._options,e)}return r.prototype._loop=function(){var e=this;this._running=!0;var t=function(){var i;if(e._running){var n=new Date().getTime()-e._time;n<e._options.duration?((i=e._doFrameCallback)===null||i===void 0||i.call(e,n),ee(t)):(e.stop(),e._currentIterationCount++,e._currentIterationCount<e._options.iterationCount&&e.start())}};ee(t)},r.prototype.doFrame=function(e){return this._doFrameCallback=e,this},r.prototype.setDuration=function(e){return this._options.duration=e,this},r.prototype.setIterationCount=function(e){return this._options.iterationCount=e,this},r.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},r.prototype.stop=function(){var e;this._running&&((e=this._doFrameCallback)===null||e===void 0||e.call(this,this._options.duration)),this._running=!1},r}(),me=1,Ze=new Date().getTime();function ie(r){var e=new Date().getTime();return e===Ze?++me:me=1,Ze=e,"".concat(r??"").concat(e,"_").concat(me)}function gt(r,e){var t,i=document.createElement(r),n=e??{};for(var o in n)i.style[o]=(t=n[o])!==null&&t!==void 0?t:"";return i}function _e(r,e,t){var i=0,n=0;for(n=r.length-1;i!==n;){var o=Math.floor((n+i)/2),a=n-i,s=r[o][e];if(t===r[i][e])return i;if(t===r[n][e])return n;if(t===s)return o;if(t>s?i=o:n=o,a<=2)break}return i}function je(r,e){e=Math.max(0,e??0);var t=Math.pow(10,e);return Math.round(r*t)/t}function qe(r,e,t){for(var i,n,o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a=r.length,s=0;s<a;){var l=r[s];o[0]=Math.max((i=l[e])!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,o[0]),o[1]=Math.min((n=l[t])!==null&&n!==void 0?n:Number.MAX_SAFE_INTEGER,o[1]),++s}return o}function vt(r){return r===0?0:Math.log10(r)}function Rt(r){return Math.pow(10,r)}function Ke(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.join("_")}(function(r){r.Init="init",r.Forward="forward",r.Backward="backward",r.Update="update"})(et||(et={}));var Ki=function(){function r(e){this._requestIdleCallbackId=Nt,this._tasks=e??[],this._operateTasks()}return r.prototype._operateTasks=function(e){var t,i=this;this._requestIdleCallbackId!==Nt&&(t=this._requestIdleCallbackId,j(window.cancelIdleCallback)?window.cancelIdleCallback(t):window.clearTimeout(t),this._requestIdleCallbackId=Nt),e?.(),this._requestIdleCallbackId=Ue(function(n){i._runTasks(n)})},r.prototype._runTasks=function(e){for(var t=this;e.timeRemaining()>0&&this._tasks.length>0;){var i=this._tasks.shift();i?.handler()}this._tasks.length>0&&(this._requestIdleCallbackId=Ue(function(n){t._runTasks(n)}))},r.prototype.addTask=function(e){var t=this;return this._operateTasks(function(){var i=t._tasks.findIndex(function(n){return n.id===e.id});i>-1?t._tasks[i]=e:t._tasks.push(e)}),this},r.prototype.removeTask=function(e){var t=this;return this._operateTasks(function(){var i=t._tasks.findIndex(function(n){return n.id===e});i>-1&&t._tasks.splice(i,1)}),this},r}(),Je=31536e3,$e=2592e3,Qe=86400,ti=3600,ei=60,xe=1;function ii(r,e,t,i,n,o){var a;i===void 0&&(i=0);for(var s=null,l=o??null,u=0;u<e.length;u++){var c=e[u].timestamp,h=xe,p=We(t,c);E(s)&&(h=p.YYYY!==s.YYYY?Je:p.MM!==s.MM?$e:p.DD!==s.DD?Qe:p.HH!==s.HH?ti:p.mm!==s.mm?ei:xe),L(l)&&L(n?.value)&&(n.value=Math.min(n.value,c-l));var d=(a=r.get(h))!==null&&a!==void 0?a:[];d.push({dataIndex:u+i,weight:h,timestamp:c}),r.set(h,d),s=p,l=c}}function ni(r,e){var t=Math.max(Xt("0000-00-00 00:00:00",e.size,e.weight,e.family),146);return Math.ceil(t/r)}function be(r,e,t){var i=ni(e,t),n=[];return Array.from(r.keys()).sort(function(o,a){return a-o}).forEach(function(o){var a=r.get(o),s=n;n=[];for(var l=s.length,u=0,c=a.length,h=1/0,p=-1/0,d=0;d<c;d++){for(var v=a[d],g=v.dataIndex;u<l;){var f=s[u],y=f.dataIndex;if(!(y<g)){h=y;break}u++,n.push(f),p=y,h=1/0}h-g>=i&&g-p>=i&&(n.push(v),p=g)}for(;u<l;u++)n.push(s[u])}),n}var Ji={name:"AVP",shortName:"AVP",series:m.IndicatorSeries.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(r){var e=0,t=0;return r.map(function(i){var n,o,a={},s=(n=i.turnover)!==null&&n!==void 0?n:0,l=(o=i.volume)!==null&&o!==void 0?o:0;return e+=s,(t+=l)!==0&&(a.avp=e/t),a})}},$i={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(r){var e,t,i=r.data,n=r.indicator,o=r.defaultStyles,a=i.prev,s=i.current,l=(e=a?.ao)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,u=(t=s?.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,c="";return{color:c=u>l?G(n.styles,"bars[0].upColor",o.bars[0].upColor):G(n.styles,"bars[0].downColor",o.bars[0].downColor),style:u>l?m.PolygonType.Stroke:m.PolygonType.Fill,borderColor:c}}}],calc:function(r,e){var t=e.calcParams,i=Math.max(t[0],t[1]),n=0,o=0,a=0,s=0;return r.map(function(l,u){var c={},h=(l.low+l.high)/2;if(n+=h,o+=h,u>=t[0]-1){a=n/t[0];var p=r[u-(t[0]-1)];n-=(p.low+p.high)/2}return u>=t[1]-1&&(s=o/t[1],p=r[u-(t[1]-1)],o-=(p.low+p.high)/2),u>=i-1&&(c.ao=a-s),c})}},Qi={name:"BOLL",shortName:"BOLL",series:m.IndicatorSeries.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=t[0]-1,n=0;return r.map(function(o,a){var s=o.close,l={};if(n+=s,a>=i){l.mid=n/t[0];var u=function(c,h){var p=c.length,d=0;return c.forEach(function(v){var g=v.close-h;d+=g*g}),d=Math.abs(d),Math.sqrt(d/p)}(r.slice(a-i,a+1),l.mid);l.up=l.mid+t[1]*u,l.dn=l.mid-t[1]*u,n-=r[a-i].close}return l})}},tn={name:"BBI",shortName:"BBI",series:m.IndicatorSeries.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=Math.max.apply(Math,Yt([],pt(t),!1)),n=[],o=[];return r.map(function(a,s){var l={},u=a.close;if(t.forEach(function(h,p){var d;n[p]=((d=n[p])!==null&&d!==void 0?d:0)+u,s>=h-1&&(o[p]=n[p]/h,n[p]-=r[s-(h-1)].close)}),s>=i-1){var c=0;o.forEach(function(h){c+=h}),l.bbi=c/4}return l})}},en={name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=t[0]-1,n=0,o=[];return r.map(function(a,s){var l={},u=(a.high+a.low+a.close)/3;if(n+=u,o.push(u),s>=i){var c=n/t[0],h=o.slice(s-i,s+1),p=0;h.forEach(function(g){p+=Math.abs(g-c)});var d=p/t[0];l.cci=d!==0?(u-c)/d/.015:0;var v=(r[s-i].high+r[s-i].low+r[s-i].close)/3;n-=v}return l})}},nn={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=Math.ceil(t[1]/2.5+1),n=Math.ceil(t[2]/2.5+1),o=Math.ceil(t[3]/2.5+1),a=Math.ceil(t[4]/2.5+1),s=0,l=[],u=0,c=[],h=0,p=[],d=0,v=[],g=[];return r.forEach(function(f,y){var x,_,b,T,C,w={},S=(x=r[y-1])!==null&&x!==void 0?x:f,P=(S.high+S.close+S.low+S.open)/4,k=Math.max(0,f.high-P),B=Math.max(0,P-f.low);y>=t[0]-1&&(w.cr=B!==0?k/B*100:0,s+=w.cr,u+=w.cr,h+=w.cr,d+=w.cr,y>=t[0]+t[1]-2&&(l.push(s/t[1]),y>=t[0]+t[1]+i-3&&(w.ma1=l[l.length-1-i]),s-=(_=g[y-(t[1]-1)].cr)!==null&&_!==void 0?_:0),y>=t[0]+t[2]-2&&(c.push(u/t[2]),y>=t[0]+t[2]+n-3&&(w.ma2=c[c.length-1-n]),u-=(b=g[y-(t[2]-1)].cr)!==null&&b!==void 0?b:0),y>=t[0]+t[3]-2&&(p.push(h/t[3]),y>=t[0]+t[3]+o-3&&(w.ma3=p[p.length-1-o]),h-=(T=g[y-(t[3]-1)].cr)!==null&&T!==void 0?T:0),y>=t[0]+t[4]-2&&(v.push(d/t[4]),y>=t[0]+t[4]+a-3&&(w.ma4=v[v.length-1-a]),d-=(C=g[y-(t[4]-1)].cr)!==null&&C!==void 0?C:0)),g.push(w)}),g}},rn={name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=Math.max(t[0],t[1]),n=0,o=0,a=0,s=[];return r.forEach(function(l,u){var c,h={},p=l.close;n+=p,o+=p;var d=0,v=0;if(u>=t[0]-1&&(d=n/t[0],n-=r[u-(t[0]-1)].close),u>=t[1]-1&&(v=o/t[1],o-=r[u-(t[1]-1)].close),u>=i-1){var g=d-v;h.dma=g,a+=g,u>=i+t[2]-2&&(h.ama=a/t[2],a-=(c=s[u-(t[2]-1)].dma)!==null&&c!==void 0?c:0)}s.push(h)}),s}},on={name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=0,a=0,s=0,l=0,u=0,c=0,h=[];return r.forEach(function(p,d){var v,g,f={},y=(v=r[d-1])!==null&&v!==void 0?v:p,x=y.close,_=p.high,b=p.low,T=_-b,C=Math.abs(_-x),w=Math.abs(x-b),S=_-y.high,P=y.low-b,k=Math.max(Math.max(T,C),w),B=S>0&&S>P?S:0,O=P>0&&P>S?P:0;if(i+=k,n+=B,o+=O,d>=t[0]-1){d>t[0]-1?(a=a-a/t[0]+k,s=s-s/t[0]+B,l=l-l/t[0]+O):(a=i,s=n,l=o);var D=0,M=0;a!==0&&(D=100*s/a,M=100*l/a),f.pdi=D,f.mdi=M;var I=0;M+D!==0&&(I=Math.abs(M-D)/(M+D)*100),u+=I,d>=2*t[0]-2&&(c=d>2*t[0]-2?(c*(t[0]-1)+I)/t[0]:u/t[0],f.adx=c,d>=2*t[0]+t[1]-3&&(f.adxr=(((g=h[d-(t[1]-1)].adx)!==null&&g!==void 0?g:0)+c)/2))}h.push(f)}),h}},an={name:"EMA",shortName:"EMA",series:m.IndicatorSeries.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(r){return r.map(function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}})},calc:function(r,e){var t=e.calcParams,i=e.figures,n=0,o=[];return r.map(function(a,s){var l={},u=a.close;return n+=u,t.forEach(function(c,h){s>=c-1&&(o[h]=s>c-1?(2*u+(c-1)*o[h])/(c+1):n/c,l[i[h].key]=o[h])}),l})}},sn={name:"MA",shortName:"MA",series:m.IndicatorSeries.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(r){return r.map(function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}})},calc:function(r,e){var t=e.calcParams,i=e.figures,n=[];return r.map(function(o,a){var s={},l=o.close;return t.forEach(function(u,c){var h;n[c]=((h=n[c])!==null&&h!==void 0?h:0)+l,a>=u-1&&(s[i[c].key]=n[c]/u,n[c]-=r[a-(u-1)].close)}),s})}},ln={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(r){var e,t,i=r.data,n=r.indicator,o=r.defaultStyles,a=i.prev,s=i.current,l=(e=a?.macd)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,u=(t=s?.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,c="";return c=u>0?G(n.styles,"bars[0].upColor",o.bars[0].upColor):u<0?G(n.styles,"bars[0].downColor",o.bars[0].downColor):G(n.styles,"bars[0].noChangeColor",o.bars[0].noChangeColor),{style:l<u?m.PolygonType.Stroke:m.PolygonType.Fill,color:c,borderColor:c}}}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=0,a=0,s=0,l=0,u=Math.max(t[0],t[1]);return r.map(function(c,h){var p={},d=c.close;return i+=d,h>=t[0]-1&&(n=h>t[0]-1?(2*d+(t[0]-1)*n)/(t[0]+1):i/t[0]),h>=t[1]-1&&(o=h>t[1]-1?(2*d+(t[1]-1)*o)/(t[1]+1):i/t[1]),h>=u-1&&(a=n-o,p.dif=a,s+=a,h>=u+t[2]-2&&(l=h>u+t[2]-2?(2*a+l*(t[2]-1))/(t[2]+1):s/t[2],p.macd=2*(a-l),p.dea=l)),p})}},un={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(r){return r.map(function(e,t){var i=t+1;return{key:"rsi".concat(i),title:"RSI".concat(i,": "),type:"line"}})},calc:function(r,e){var t=e.calcParams,i=e.figures,n=[],o=[];return r.map(function(a,s){var l,u={},c=((l=r[s-1])!==null&&l!==void 0?l:a).close,h=a.close-c;return t.forEach(function(p,d){var v,g,f;if(h>0?n[d]=((v=n[d])!==null&&v!==void 0?v:0)+h:o[d]=((g=o[d])!==null&&g!==void 0?g:0)+Math.abs(h),s>=p-1){o[d]!==0?u[i[d].key]=100-100/(1+n[d]/o[d]):u[i[d].key]=0;var y=r[s-(p-1)],x=(f=r[s-p])!==null&&f!==void 0?f:y,_=y.close-x.close;_>0?n[d]-=_:o[d]-=Math.abs(_)}}),u})}},cn={name:"SMA",shortName:"SMA",series:m.IndicatorSeries.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(r,e){var t=e.calcParams,i=0,n=0;return r.map(function(o,a){var s={},l=o.close;return i+=l,a>=t[0]-1&&(n=a>t[0]-1?(l*t[1]+n*(t[0]-t[1]+1))/(t[0]+1):i/t[0],s.sma=n),s})}},hn={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=[];return r.forEach(function(n,o){var a,s,l,u,c={},h=n.close;if(o>=t[0]-1){var p=qe(r.slice(o-(t[0]-1),o+1),"high","low"),d=p[0],v=p[1],g=d-v,f=(h-v)/(g===0?1:g)*100;c.k=((t[1]-1)*((s=(a=i[o-1])===null||a===void 0?void 0:a.k)!==null&&s!==void 0?s:50)+f)/t[1],c.d=((t[2]-1)*((u=(l=i[o-1])===null||l===void 0?void 0:l.d)!==null&&u!==void 0?u:50)+c.k)/t[2],c.j=3*c.k-2*c.d}i.push(c)}),i}},dn={name:"SAR",shortName:"SAR",series:m.IndicatorSeries.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(r){var e,t,i,n=r.data,o=r.indicator,a=r.defaultStyles,s=n.current;return{color:((e=s?.sar)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER)<(((t=s?.high)!==null&&t!==void 0?t:0)+((i=s?.low)!==null&&i!==void 0?i:0))/2?G(o.styles,"circles[0].upColor",a.circles[0].upColor):G(o.styles,"circles[0].downColor",a.circles[0].downColor)}}}],calc:function(r,e){var t=e.calcParams,i=t[0]/100,n=t[1]/100,o=t[2]/100,a=i,s=-100,l=!1,u=0;return r.map(function(c,h){var p=u,d=c.high,v=c.low;if(l){(s===-100||s<d)&&(s=d,a=Math.min(a+n,o)),u=p+a*(s-p);var g=Math.min(r[Math.max(1,h)-1].low,v);u>c.low?(u=s,a=i,s=-100,l=!l):u>g&&(u=g)}else{(s===-100||s>v)&&(s=v,a=Math.min(a+n,o)),u=p+a*(s-p);var f=Math.max(r[Math.max(1,h)-1].high,d);u<c.high?(u=s,a=0,s=-100,l=!l):u<f&&(u=f)}return{high:d,low:v,sar:u}})}};function ri(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(r){var e=r.data,t=r.indicator,i=r.defaultStyles,n=e.current,o=G(t.styles,"bars[0].noChangeColor",i.bars[0].noChangeColor);return E(n)&&(n.close>n.open?o=G(t.styles,"bars[0].upColor",i.bars[0].upColor):n.close<n.open&&(o=G(t.styles,"bars[0].downColor",i.bars[0].downColor))),{color:o}}}}var pn={name:"VOL",shortName:"VOL",series:m.IndicatorSeries.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},ri()],regenerateFigures:function(r){var e=r.map(function(t,i){return{key:"ma".concat(i+1),title:"MA".concat(t,": "),type:"line"}});return e.push(ri()),e},calc:function(r,e){var t=e.calcParams,i=e.figures,n=[];return r.map(function(o,a){var s,l=(s=o.volume)!==null&&s!==void 0?s:0,u={volume:l,open:o.open,close:o.close};return t.forEach(function(c,h){var p,d;n[h]=((p=n[h])!==null&&p!==void 0?p:0)+l,a>=c-1&&(u[i[h].key]=n[h]/c,n[h]-=(d=r[a-(c-1)].volume)!==null&&d!==void 0?d:0)}),u})}},gn={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(r){return r.map(function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(r,e){var t=e.calcParams,i=e.figures;return r.map(function(n,o){var a={},s=n.close;return t.forEach(function(l,u){var c=l-1;if(o>=c){var h=qe(r.slice(o-c,o+1),"high","low"),p=h[0],d=p-h[1];a[i[u].key]=d===0?0:(s-p)/d*100}}),a})}},ne={},vn=[Ji,$i,{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(r){return r.map(function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}})},calc:function(r,e){var t=e.calcParams,i=e.figures,n=[];return r.map(function(o,a){var s={},l=o.close;return t.forEach(function(u,c){var h;if(n[c]=((h=n[c])!==null&&h!==void 0?h:0)+l,a>=u-1){var p=n[c]/t[c];s[i[c].key]=(l-p)/p*100,n[c]-=r[a-(u-1)].close}}),s})}},Qi,{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=0,a=0;return r.map(function(s,l){var u,c,h={},p=s.high,d=s.low,v=s.open,g=((u=r[l-1])!==null&&u!==void 0?u:s).close;if(o+=p-v,a+=v-d,i+=p-g,n+=g-d,l>=t[0]-1){h.ar=a!==0?o/a*100:0,h.br=n!==0?i/n*100:0;var f=r[l-(t[0]-1)],y=f.high,x=f.low,_=f.open,b=((c=r[l-t[0]])!==null&&c!==void 0?c:r[l-(t[0]-1)]).close;i-=y-b,n-=b-x,o-=y-_,a-=_-x}return h})}},tn,en,nn,rn,on,{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=[];return r.map(function(o,a){var s,l={};if(a>0){var u=r[a-1],c=o.high,h=o.low,p=(s=o.volume)!==null&&s!==void 0?s:0,d=(c+h)/2-(u.high+u.low)/2;if(p===0||c-h==0)l.emv=0;else{var v=p/1e8/(c-h);l.emv=d/v}i+=l.emv,n.push(l.emv),a>=t[0]&&(l.maEmv=i/t[0],i-=n[a-t[0]])}return l})}},an,{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=[];return r.forEach(function(o,a){var s,l={};if(a>=t[0]){var u=o.close,c=r[a-t[0]].close;l.mtm=u-c,i+=l.mtm,a>=t[0]+t[1]-1&&(l.maMtm=i/t[1],i-=(s=n[a-(t[1]-1)].mtm)!==null&&s!==void 0?s:0)}n.push(l)}),n}},sn,ln,{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=[];return r.forEach(function(a,s){var l,u,c,h,p=(l=r[s-1])!==null&&l!==void 0?l:a;a.close<p.close?n-=(u=a.volume)!==null&&u!==void 0?u:0:a.close>p.close&&(n+=(c=a.volume)!==null&&c!==void 0?c:0);var d={obv:n};i+=n,s>=t[0]-1&&(d.maObv=i/t[0],i-=(h=o[s-(t[0]-1)].obv)!==null&&h!==void 0?h:0),o.push(d)}),o}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(r){var e=0;return r.map(function(t,i){var n,o,a={},s=t.close,l=(n=t.volume)!==null&&n!==void 0?n:1,u=((o=r[i-1])!==null&&o!==void 0?o:t).close,c=0,h=u*l;return h!==0&&(c=(s-u)/h),e+=c,a.pvt=e,a})}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=[],a=[];return r.forEach(function(s,l){var u,c,h={},p=((u=r[l-1])!==null&&u!==void 0?u:s).close,d=s.close-p>0?1:0;o.push(d),i+=d,l>=t[0]-1&&(h.psy=i/t[0]*100,n+=h.psy,l>=t[0]+t[1]-2&&(h.maPsy=n/t[1],n-=(c=a[l-(t[1]-1)].psy)!==null&&c!==void 0?c:0),i-=o[l-(t[0]-1)]),a.push(h)}),a}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=[],n=0;return r.forEach(function(o,a){var s,l,u={};if(a>=t[0]-1){var c=o.close,h=((s=r[a-t[0]])!==null&&s!==void 0?s:r[a-(t[0]-1)]).close;u.roc=h!==0?(c-h)/h*100:0,n+=u.roc,a>=t[0]-1+t[1]-1&&(u.maRoc=n/t[1],n-=(l=i[a-(t[1]-1)].roc)!==null&&l!==void 0?l:0)}i.push(u)}),i}},un,cn,hn,dn,{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=0,a=0,s=0,l=0,u=0,c=[];return r.forEach(function(h,p){var d,v={},g=h.close;if(i+=g,p>=t[0]-1&&(n=p>t[0]-1?(2*g+(t[0]-1)*n)/(t[0]+1):i/t[0],s+=n,p>=2*t[0]-2&&(o=p>2*t[0]-2?(2*n+(t[0]-1)*o)/(t[0]+1):s/t[0],l+=o,p>=3*t[0]-3))){var f=0,y=0;p>3*t[0]-3?y=((f=(2*o+(t[0]-1)*a)/(t[0]+1))-a)/a*100:f=l/t[0],a=f,v.trix=y,u+=y,p>=3*t[0]+t[1]-4&&(v.maTrix=u/t[1],u-=(d=c[p-(t[1]-1)].trix)!==null&&d!==void 0?d:0)}c.push(v)}),c}},pn,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(r,e){var t=e.calcParams,i=0,n=0,o=0,a=0,s=[];return r.forEach(function(l,u){var c,h,p,d,v,g={},f=l.close,y=((c=r[u-1])!==null&&c!==void 0?c:l).close,x=(h=l.volume)!==null&&h!==void 0?h:0;if(f>y?i+=x:f<y?n+=x:o+=x,u>=t[0]-1){var _=o/2;g.vr=n+_===0?0:(i+_)/(n+_)*100,a+=g.vr,u>=t[0]+t[1]-2&&(g.maVr=a/t[1],a-=(p=s[u-(t[1]-1)].vr)!==null&&p!==void 0?p:0);var b=r[u-(t[0]-1)],T=(d=r[u-t[0]])!==null&&d!==void 0?d:b,C=b.close,w=(v=b.volume)!==null&&v!==void 0?v:0;C>T.close?i-=w:C<T.close?n-=w:o-=w}s.push(g)}),s}},gn];function oi(r){var e;return(e=ne[r])!==null&&e!==void 0?e:null}vn.forEach(function(r){ne[r.name]=He.extend(r)});var fn={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e,t=r.chart,i=r.coordinates,n=r.bounding,o=r.overlay,a=r.yAxis,s=o.points;if(i.length>0){var l=0;(e=a?.isInCandle())===null||e===void 0||e?l=t.getPrecision().price:t.getIndicators({paneId:o.paneId}).forEach(function(v){l=Math.max(l,v.precision)});var u=[],c=[],h=n.width;if(i.length>1&&L(s[0].value)&&L(s[1].value)){var p=i[0].y-i[1].y,d=s[0].value-s[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(v){var g,f=i[1].y+p*v,y=t.getDecimalFold().format(t.getThousandsSeparator().format((((g=s[1].value)!==null&&g!==void 0?g:0)+d*v).toFixed(l)));u.push({coordinates:[{x:0,y:f},{x:h,y:f}]}),c.push({x:0,y:f,text:"".concat(y," (").concat((100*v).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:u},{type:"text",isCheckEvent:!1,attrs:c}]}return[]}},yn={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates,t=r.bounding,i={x:0,y:e[0].y};return E(e[1])&&e[0].x<e[1].x&&(i.x=t.width),[{type:"line",attrs:{coordinates:[e[0],i]}}]},performEventPressedMove:function(r){var e=r.points,t=r.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(r){var e=r.currentStep,t=r.points,i=r.performPoint;e===2&&(t[0].value=i.value)}},Ce=function(){function r(){this._children=[],this._callbacks=new Map}return r.prototype.registerEvent=function(e,t){return this._callbacks.set(e,t),this},r.prototype.onEvent=function(e,t,i){var n=this._callbacks.get(e);return!(!E(n)||!this.checkEventOn(t))&&n(t,i)},r.prototype.checkEventOn=function(e){var t,i;try{for(var n=tt(this._children),o=n.next();!o.done;o=n.next())if(o.value.checkEventOn(e))return!0}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return!1},r.prototype.dispatchEvent=function(e,t,i){var n=this._children.length-1;if(n>-1){for(var o=n;o>-1;o--)if(this._children[o].dispatchEvent(e,t,i))return!0}return this.onEvent(e,t,i)},r.prototype.addChild=function(e){return this._children.push(e),this},r.prototype.clear=function(){this._children=[]},r}(),ai=function(r){function e(t){var i=r.call(this)||this;return i.attrs=t.attrs,i.styles=t.styles,i}return N(e,r),e.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},e.prototype.setAttrs=function(t){return this.attrs=t,this},e.prototype.setStyles=function(t){return this.styles=t,this},e.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},e.extend=function(t){var i=function(n){function o(){return n!==null&&n.apply(this,arguments)||this}return N(o,n),o.prototype.checkEventOnImp=function(a,s,l){return t.checkEventOn(a,s,l)},o.prototype.drawImp=function(a,s,l){t.draw(a,s,l)},o}(e);return i},e}(Ce);function si(r,e){var t,i,n=[];n=n.concat(e);try{for(var o=tt(n),a=o.next();!a.done;a=o.next()){var s=a.value.coordinates;if(s.length>1)for(var l=1;l<s.length;l++){var u=s[l-1],c=s[l];if(u.x===c.x){if(Math.abs(u.y-r.y)+Math.abs(c.y-r.y)-Math.abs(u.y-c.y)<4&&Math.abs(r.x-u.x)<2)return!0}else{var h=re(u,c),p=Te(h,r),d=Math.abs(p-r.y);if(Math.abs(u.x-r.x)+Math.abs(c.x-r.x)-Math.abs(u.x-c.x)<4&&d*d/(h[0]*h[0]+1)<4)return!0}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}function Te(r,e){return r!==null?e.x*r[0]+r[1]:e.y}function Ut(r,e,t){return Te(re(r,e),t)}function re(r,e){var t=r.x-e.x;if(t!==0){var i=(r.y-e.y)/t;return[i,r.y-i*r.x]}return null}function li(r,e,t){var i=e.length,n=L(t)?t>0&&t<1?t:0:t?.5:0;if(n>0&&i>2){for(var o=e[0].x,a=e[0].y,s=1;s<i-1;s++){var l=e[s-1],u=e[s],c=e[s+1],h=u.x-l.x,p=u.y-l.y,d=c.x-u.x,v=c.y-u.y,g=c.x-l.x,f=c.y-l.y,y=Math.sqrt(h*h+p*p),x=Math.sqrt(d*d+v*v),_=x/(x+y),b=u.x+g*n*_,T=u.y+f*n*_;b=Math.min(b,Math.max(c.x,u.x)),T=Math.min(T,Math.max(c.y,u.y)),b=Math.max(b,Math.min(c.x,u.x)),T=Math.max(T,Math.min(c.y,u.y)),g=b-u.x,f=T-u.y;var C=u.x-g*y/x,w=u.y-f*y/x;C=Math.min(C,Math.max(l.x,u.x)),w=Math.min(w,Math.max(l.y,u.y)),C=Math.max(C,Math.min(l.x,u.x)),w=Math.max(w,Math.min(l.y,u.y)),g=u.x-C,f=u.y-w,b=u.x+g*x/y,T=u.y+f*x/y,r.bezierCurveTo(o,a,C,w,u.x,u.y),o=b,a=T}var S=e[i-1];r.bezierCurveTo(o,a,S.x,S.y,S.x,S.y)}else for(s=1;s<i;s++)r.lineTo(e[s].x,e[s].y)}var mn={name:"line",checkEventOn:si,draw:function(r,e,t){(function(i,n,o){var a=[];a=a.concat(n);var s=o.style,l=s===void 0?m.LineType.Solid:s,u=o.smooth,c=u!==void 0&&u,h=o.size,p=h===void 0?1:h,d=o.color,v=d===void 0?"currentColor":d,g=o.dashedValue,f=g===void 0?[2,2]:g;i.lineWidth=p,i.strokeStyle=v,l===m.LineType.Dashed?i.setLineDash(f):i.setLineDash([]);var y=p%2==1?.5:0;a.forEach(function(x){var _=x.coordinates;_.length>1&&(_.length!==2||_[0].x!==_[1].x&&_[0].y!==_[1].y?(i.save(),p%2==1&&i.translate(.5,.5),i.beginPath(),i.moveTo(_[0].x,_[0].y),li(i,_,c),i.stroke(),i.closePath(),i.restore()):(i.beginPath(),_[0].x===_[1].x?(i.moveTo(_[0].x+y,_[0].y),i.lineTo(_[1].x+y,_[1].y)):(i.moveTo(_[0].x,_[0].y+y),i.lineTo(_[1].x,_[1].y+y)),i.stroke(),i.closePath()))})})(r,e,t)}};function ui(r,e,t){var i=t??0,n=[];if(r.length>1)if(r[0].x===r[1].x){var o=e.height;if(n.push({coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:o}]}),r.length>2){n.push({coordinates:[{x:r[2].x,y:0},{x:r[2].x,y:o}]});for(var a=r[0].x-r[2].x,s=0;s<i;s++){var l=a*(s+1);n.push({coordinates:[{x:r[0].x+l,y:0},{x:r[0].x+l,y:o}]})}}}else{var u=e.width,c=re(r[0],r[1]),h=c[0],p=c[1];if(n.push({coordinates:[{x:0,y:0*h+p},{x:u,y:u*h+p}]}),r.length>2){var d=r[2].y-h*r[2].x;for(n.push({coordinates:[{x:0,y:0*h+d},{x:u,y:u*h+d}]}),a=p-d,s=0;s<i;s++){var v=p+a*(s+1);n.push({coordinates:[{x:0,y:0*h+v},{x:u,y:u*h+v}]})}}}return n}var _n={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){return[{type:"line",attrs:ui(r.coordinates,r.bounding)}]}},xn={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){return[{type:"line",attrs:ui(r.coordinates,r.bounding,1)}]}},bn={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e,t=r.chart,i=r.coordinates,n=r.bounding,o=r.overlay,a=r.yAxis,s=0;(e=a?.isInCandle())===null||e===void 0||e?s=t.getPrecision().price:t.getIndicators({paneId:o.paneId}).forEach(function(c){s=Math.max(s,c.precision)});var l=o.points[0].value,u=l===void 0?0:l;return[{type:"line",attrs:{coordinates:[i[0],{x:n.width,y:i[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:i[0].x,y:i[0].y,text:t.getDecimalFold().format(t.getThousandsSeparator().format(u.toFixed(s))),baseline:"bottom"}}]}};function Cn(r,e){if(r.length>1){var t={x:0,y:0};return t=r[0].x===r[1].x&&r[0].y!==r[1].y?r[0].y<r[1].y?{x:r[0].x,y:e.height}:{x:r[0].x,y:0}:r[0].x>r[1].x?{x:0,y:Ut(r[0],r[1],{x:0,y:r[0].y})}:{x:e.width,y:Ut(r[0],r[1],{x:e.width,y:r[0].y})},{coordinates:[r[0],t]}}return[]}var Tn={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){return[{type:"line",attrs:Cn(r.coordinates,r.bounding)}]}},wn={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates,t=r.bounding;return e.length===2?e[0].x===e[1].x?[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Ut(e[0],e[1],{x:0,y:e[0].y})},{x:t.width,y:Ut(e[0],e[1],{x:t.width,y:e[0].y})}]}}]:[]}},En={name:"simpleAnnotation",totalStep:2,styles:{line:{style:m.LineType.Dashed}},createPointFigures:function(r){var e,t=r.overlay,i=r.coordinates,n="";E(t.extendData)&&(n=j(t.extendData)?t.extendData(t):(e=t.extendData)!==null&&e!==void 0?e:"");var o=i[0].x,a=i[0].y-6,s=a-50,l=s-5;return[{type:"line",attrs:{coordinates:[{x:o,y:a},{x:o,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:o,y:s},{x:o-4,y:l},{x:o+4,y:l}]},ignoreEvent:!0},{type:"text",attrs:{x:o,y:l,text:n,align:"center",baseline:"bottom"},ignoreEvent:!0}]}},Sn={name:"simpleTag",totalStep:2,styles:{line:{style:m.LineType.Dashed}},createPointFigures:function(r){var e=r.bounding,t=r.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:e.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(r){var e,t,i=r.chart,n=r.overlay,o=r.coordinates,a=r.bounding,s=r.yAxis,l="left",u=0;(e=s?.isFromZero())!==null&&e!==void 0&&e?(l="left",u=0):(l="right",u=a.width);var c="";return E(n.extendData)&&(c=j(n.extendData)?n.extendData(n):(t=n.extendData)!==null&&t!==void 0?t:""),!E(c)&&L(n.points[0].value)&&(c=q(n.points[0].value,i.getPrecision().price)),{type:"text",attrs:{x:u,y:o[0].y,text:c,align:l,baseline:"middle"}}}},Zt={};function Pn(r){var e;return(e=Zt[r])!==null&&e!==void 0?e:null}[fn,yn,{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates,t=[];return e.length===2&&t.push({coordinates:e}),[{type:"line",attrs:t}]},performEventPressedMove:function(r){var e=r.points,t=r.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(r){var e=r.currentStep,t=r.points,i=r.performPoint;e===2&&(t[0].value=i.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates,t=r.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:e[0].y},{x:t.width,y:e[0].y}]}}]}},_n,xn,bn,Tn,{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]}},wn,{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates,t=r.bounding;if(e.length===2){var i={x:e[0].x,y:0};return e[0].y<e[1].y&&(i.y=t.height),[{type:"line",attrs:{coordinates:[e[0],i]}}]}return[]},performEventPressedMove:function(r){var e=r.points,t=r.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(r){var e=r.currentStep,t=r.points,i=r.performPoint;e===2&&(t[0].timestamp=i.timestamp,t[0].dataIndex=i.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]},performEventPressedMove:function(r){var e=r.points,t=r.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(r){var e=r.currentStep,t=r.points,i=r.performPoint;e===2&&(t[0].timestamp=i.timestamp,t[0].dataIndex=i.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(r){var e=r.coordinates,t=r.bounding;return[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]}},En,Sn].forEach(function(r){Zt[r.name]=Xe.extend(r)});var ci={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function In(r){var e;return(e=ci[r])!==null&&e!==void 0?e:null}var K="candle_pane",hi="indicator_pane_",H="x_axis_pane",kn=1,Dn=50,Mn=function(){function r(e,t){var i,n,o,a,s,l=this;this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:m.LineType.Dashed,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:m.LineType.Dashed,dashedValue:[2,2]}},candle:(s={show:!0,color:W.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},{type:m.CandleType.CandleSolid,bar:{compareRule:wt.CurrentOpen,upColor:W.GREEN,downColor:W.RED,noChangeColor:W.GREY,upBorderColor:W.GREEN,downBorderColor:W.RED,noChangeBorderColor:W.GREY,upWickColor:W.GREEN,downWickColor:W.RED,noChangeWickColor:W.GREY},area:{lineSize:2,lineColor:W.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:Et(W.BLUE,.01)},{offset:1,color:Et(W.BLUE,.2)}],point:{show:!0,color:W.BLUE,radius:4,rippleColor:Et(W.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:A({},s),low:A({},s),last:{show:!0,compareRule:wt.CurrentOpen,upColor:W.GREEN,downColor:W.RED,noChangeColor:W.GREY,line:{show:!0,style:m.LineType.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:m.PolygonType.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:m.LineType.Solid,borderSize:0,borderDashedValue:[2,2],color:W.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:m.TooltipShowRule.Always,showType:m.TooltipShowType.Standard,custom:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}],defaultValue:"n/a",rect:{position:m.CandleTooltipRectPosition.Fixed,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:W.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},icons:[]}}),indicator:(o=Et(W.GREEN,.7),a=Et(W.RED,.7),{ohlc:{compareRule:wt.CurrentOpen,upColor:o,downColor:a,noChangeColor:W.GREY},bars:[{style:m.PolygonType.Fill,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:a,noChangeColor:W.GREY}],lines:["#FF9600","#935EBD",W.BLUE,"#E11D74","#01C5C4"].map(function(f){return{style:m.LineType.Solid,smooth:!1,size:1,dashedValue:[2,2],color:f}}),circles:[{style:m.PolygonType.Fill,borderStyle:m.LineType.Solid,borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:a,noChangeColor:W.GREY}],lastValueMark:{show:!1,text:{show:!1,style:m.PolygonType.Fill,color:W.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:m.TooltipShowRule.Always,showType:m.TooltipShowType.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:W.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},icons:[]}}),xAxis:Oe(),yAxis:Oe(),separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:Et(W.BLUE,.08)},crosshair:Ui(),overlay:(i=Et(W.BLUE,.35),n=Et(W.BLUE,.25),{point:{color:W.BLUE,borderColor:i,borderSize:1,radius:5,activeColor:W.BLUE,activeBorderColor:i,activeBorderSize:3,activeRadius:5},line:{style:m.LineType.Solid,smooth:!1,color:W.BLUE,size:1,dashedValue:[2,2]},rect:{style:m.PolygonType.Fill,color:n,borderColor:W.BLUE,borderSize:1,borderRadius:0,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},polygon:{style:m.PolygonType.Fill,color:W.BLUE,borderColor:W.BLUE,borderSize:1,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},circle:{style:m.PolygonType.Fill,color:n,borderColor:W.BLUE,borderSize:1,borderStyle:m.LineType.Solid,borderDashedValue:[2,2]},arc:{style:m.LineType.Solid,color:W.BLUE,size:1,dashedValue:[2,2]},text:{style:m.PolygonType.Fill,color:W.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:m.LineType.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:W.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:W.BLUE}})},this._customApi={formatDate:function(f,y){return Ne(l._dateTimeFormat,f,y)},formatBigNumber:Ve},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(f){return ze(f,l._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(f){return Ye(f,l._decimalFold.threshold)}},this._precision={price:2,volume:0},this._dataList=[],this._loadMoreDataCallback=null,this._loading=!0,this._loadDataMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=10,this._offsetRightDistance=80,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole=0,this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._timeWeightTickMap=new Map,this._timeWeightTickList=[],this._minTimeDifference=Number.MAX_SAFE_INTEGER,this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._activeTooltipIcon=null,this._actions=new Map,this._indicators=new Map,this._taskScheduler=new Ki,this._overlays=new Map,this._progressOverlayInfo=null,this._pressedOverlayInfo={paneId:"",overlay:null,figureType:0,figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:0,figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:0,figureIndex:-1,figure:null},this._chart=e,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var u=t??{},c=u.styles,h=u.locale,p=u.timezone,d=u.customApi,v=u.thousandsSeparator,g=u.decimalFold;E(c)&&this.setStyles(c),z(h)&&this.setLocale(h),this.setTimezone(p??""),E(d)&&this.setCustomApi(d),E(v)&&this.setThousandsSeparator(v),E(g)&&this.setDecimalFold(g)}return r.prototype.setStyles=function(e){var t,i,n=null;n=z(e)?In(e):e,Y(this._styles,n),st((i=(t=n?.candle)===null||t===void 0?void 0:t.tooltip)===null||i===void 0?void 0:i.custom)&&(this._styles.candle.tooltip.custom=n.candle.tooltip.custom)},r.prototype.getStyles=function(){return this._styles},r.prototype.setCustomApi=function(e){Y(this._customApi,e)},r.prototype.getCustomApi=function(){return this._customApi},r.prototype.setLocale=function(e){this._locale=e},r.prototype.getLocale=function(){return this._locale},r.prototype.setTimezone=function(e){if(!E(this._dateTimeFormat)||this.getTimezone()!==e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};e.length>0&&(t.timeZone=e);var i=null;try{i=new Intl.DateTimeFormat("en",t)}catch{}i!==null&&(this._classifyTimeWeightTicks(this._dataList),this._dateTimeFormat=i)}},r.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},r.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},r.prototype.setThousandsSeparator=function(e){Y(this._thousandsSeparator,e)},r.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},r.prototype.setDecimalFold=function(e){Y(this._decimalFold,e)},r.prototype.getDecimalFold=function(){return this._decimalFold},r.prototype.getPrecision=function(){return this._precision},r.prototype.setPrecision=function(e){Y(this._precision,e),this._synchronizeIndicatorSeriesPrecision()},r.prototype.getDataList=function(){return this._dataList},r.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},r.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},r.prototype.addData=function(e,t,i){var n,o,a,s,l=this,u=!1,c=!1,h=0;if(st(e)){switch(h=e.length,t){case et.Init:this.clearData(),this._dataList=e,this._loadDataMore.backward=(n=i?.forward)!==null&&n!==void 0&&n,this._loadDataMore.forward=(o=i?.forward)!==null&&o!==void 0&&o,this._classifyTimeWeightTicks(this._dataList),this.setOffsetRightDistance(this._offsetRightDistance),c=!0;break;case et.Backward:this._classifyTimeWeightTicks(e,!0),this._dataList=this._dataList.concat(e),this._loadDataMore.backward=(a=i?.backward)!==null&&a!==void 0&&a,c=h>0;break;case et.Forward:this._dataList=e.concat(this._dataList),this._classifyTimeWeightTicks(this._dataList),this._loadDataMore.forward=(s=i?.forward)!==null&&s!==void 0&&s,c=h>0}this._loading=!1,u=!0}else{var p=this._dataList.length,d=e.timestamp,v=G(this._dataList[p-1],"timestamp",0);if(d>v){this._classifyTimeWeightTicks([e],!0),this._dataList.push(e);var g=this.getLastBarRightSideDiffBarCount();g<0&&this.setLastBarRightSideDiffBarCount(--g),h=1,u=!0,c=!0}else d===v&&(this._dataList[p-1]=e,u=!0,c=!0)}u&&c&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this.getIndicatorsByFilter({}).forEach(function(f){l._addIndicatorCalcTask(f,t)}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}))},r.prototype.setLoadMoreDataCallback=function(e){this._loadMoreDataCallback=e},r.prototype._calcOptimalBarSpace=function(){var e=1-.2*Math.atan(Math.max(4,this._barSpace)-4)/(.5*Math.PI),t=Math.min(Math.floor(this._barSpace*e),Math.floor(this._barSpace));t%2==0&&t+2>=this._barSpace&&--t,this._gapBarSpace=Math.max(1,t)},r.prototype._classifyTimeWeightTicks=function(e,t){var i=0,n=null;t!=null&&t?(i=this._dataList.length,n=this._dataList[i-1].timestamp):(this._timeWeightTickMap.clear(),this._minTimeDifference=Number.MAX_SAFE_INTEGER);var o={value:this._minTimeDifference};ii(this._timeWeightTickMap,e,this._dateTimeFormat,i,o,n),this._minTimeDifference=o.value,this._timeWeightTickList=be(this._timeWeightTickMap,this._barSpace,this._styles.xAxis.tickText)},r.prototype.getTimeWeightTickList=function(){return this._timeWeightTickList},r.prototype._adjustVisibleRange=function(){var e,t,i,n,o=this,a=this._dataList.length,s=this._totalBarSpace/this._barSpace,l=0,u=0;this._scrollLimitRole===1?(l=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,u=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(l=this._minVisibleBarCount.left,u=this._minVisibleBarCount.right),l=Math.max(0,l),u=Math.max(0,u);var c=s-Math.min(l,a);this._lastBarRightSideDiffBarCount>c&&(this._lastBarRightSideDiffBarCount=c);var h=-a+Math.min(u,a);this._lastBarRightSideDiffBarCount<h&&(this._lastBarRightSideDiffBarCount=h);var p=Math.round(this._lastBarRightSideDiffBarCount+a+.5),d=p;p>a&&(p=a);var v=Math.round(p-s)-1;v<0&&(v=0);var g=this._lastBarRightSideDiffBarCount>0?Math.round(a+this._lastBarRightSideDiffBarCount-s)-1:v;this._visibleRange={from:v,to:p,realFrom:g,realTo:d},this.executeAction(m.ActionType.OnVisibleRangeChange,this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var f=g;f<d;f++){var y=this._dataList[f],x=this.dataIndexToCoordinate(f);this._visibleRangeDataList.push({dataIndex:f,x,data:{prev:(e=this._dataList[f-1])!==null&&e!==void 0?e:y,current:y,next:(t=this._dataList[f-1])!==null&&t!==void 0?t:y}}),E(y)&&(this._visibleRangeHighLowPrice[0].price<y.high&&(this._visibleRangeHighLowPrice[0].price=y.high,this._visibleRangeHighLowPrice[0].x=x),this._visibleRangeHighLowPrice[1].price>y.low&&(this._visibleRangeHighLowPrice[1].price=y.low,this._visibleRangeHighLowPrice[1].x=x))}if(!this._loading&&E(this._loadMoreDataCallback)){var _=null;v===0?this._loadDataMore.forward&&(this._loading=!0,_={type:et.Forward,data:(i=this._dataList[0])!==null&&i!==void 0?i:null,callback:function(b,T){o.addData(b,et.Forward,{forward:T!=null&&T,backward:T!=null&&T})}}):p===a&&this._loadDataMore.backward&&(this._loading=!0,_={type:et.Backward,data:(n=this._dataList[a-1])!==null&&n!==void 0?n:null,callback:function(b,T){o.addData(b,et.Backward,{forward:T!=null&&T,backward:T!=null&&T})}}),E(_)&&this._loadMoreDataCallback(_)}},r.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},r.prototype.setBarSpace=function(e,t){e<kn||e>Dn||this._barSpace===e||(this._barSpace=e,this._timeWeightTickList=be(this._timeWeightTickMap,this._barSpace,this._styles.xAxis.tickText),this._calcOptimalBarSpace(),t?.(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}))},r.prototype.setTotalBarSpace=function(e){this._totalBarSpace!==e&&(this._totalBarSpace=e,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))},r.prototype.setOffsetRightDistance=function(e,t){return this._offsetRightDistance=this._scrollLimitRole===1?Math.min(this._maxOffsetDistance.right,e):e,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,t!=null&&t&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})),this},r.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},r.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},r.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},r.prototype.setLastBarRightSideDiffBarCount=function(e){this._lastBarRightSideDiffBarCount=e},r.prototype.setMaxOffsetLeftDistance=function(e){this._scrollLimitRole=1,this._maxOffsetDistance.left=e},r.prototype.setMaxOffsetRightDistance=function(e){this._scrollLimitRole=1,this._maxOffsetDistance.right=e},r.prototype.setLeftMinVisibleBarCount=function(e){this._scrollLimitRole=0,this._minVisibleBarCount.left=e},r.prototype.setRightMinVisibleBarCount=function(e){this._scrollLimitRole=0,this._minVisibleBarCount.right=e},r.prototype.getVisibleRange=function(){return this._visibleRange},r.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},r.prototype.scroll=function(e){if(this._scrollEnabled){var t=e/this._barSpace,i=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0});var n=Math.round(i-this._lastBarRightSideDiffBarCount*this._barSpace);n!==0&&this.executeAction(m.ActionType.OnScroll,{distance:n})}},r.prototype.getDataByDataIndex=function(e){var t;return(t=this._dataList[e])!==null&&t!==void 0?t:null},r.prototype.coordinateToFloatIndex=function(e){var t=this._dataList.length,i=(this._totalBarSpace-e)/this._barSpace,n=t+this._lastBarRightSideDiffBarCount-i;return Math.round(1e6*n)/1e6},r.prototype.dataIndexToTimestamp=function(e){var t=this._dataList.length;if(t===0)return null;var i=this.getDataByDataIndex(e);if(E(i))return i.timestamp;var n=t-1;return e>n?this._dataList[n].timestamp+this._minTimeDifference*(e-n):e<0?this._dataList[0].timestamp-this._minTimeDifference*Math.abs(e):null},r.prototype.timestampToDataIndex=function(e){var t=this._dataList.length;if(t===0)return 0;var i=t-1,n=this._dataList[i].timestamp;if(e>n)return i+Math.floor((e-n)/this._minTimeDifference);var o=this._dataList[0].timestamp;return e<o?Math.floor((e-o)/this._minTimeDifference):_e(this._dataList,"timestamp",e)},r.prototype.dataIndexToCoordinate=function(e){var t=this._dataList.length+this._lastBarRightSideDiffBarCount-e;return Math.floor(this._totalBarSpace-(t-.5)*this._barSpace+.5)},r.prototype.coordinateToDataIndex=function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1},r.prototype.zoom=function(e,t){var i,n=this;if(this._zoomEnabled){var o=t??null;L(o?.x)||(o={x:(i=this._crosshair.x)!==null&&i!==void 0?i:this._totalBarSpace/2});var a=o.x,s=this.coordinateToFloatIndex(a),l=this._barSpace,u=this._barSpace+e*(this._barSpace/10);this.setBarSpace(u,function(){n._lastBarRightSideDiffBarCount+=s-n.coordinateToFloatIndex(a)});var c=this._barSpace/l;c!==1&&this.executeAction(m.ActionType.OnZoom,{scale:c})}},r.prototype.setZoomEnabled=function(e){this._zoomEnabled=e},r.prototype.isZoomEnabled=function(){return this._zoomEnabled},r.prototype.setScrollEnabled=function(e){this._scrollEnabled=e},r.prototype.isScrollEnabled=function(){return this._scrollEnabled},r.prototype.setCrosshair=function(e,t){var i,n=t??{},o=n.notInvalidate,a=n.notExecuteAction,s=e??{},l=0,u=0;u=L(s.x)?(l=this.coordinateToDataIndex(s.x))<0?0:l>this._dataList.length-1?this._dataList.length-1:l:l=this._dataList.length-1;var c=this._dataList[u],h=this.dataIndexToCoordinate(l),p=this._crosshair.x,d=this._crosshair.y,v=this._crosshair.paneId;this._crosshair=A(A({},s),{realX:h,kLineData:c,realDataIndex:l,dataIndex:u,timestamp:(i=this.dataIndexToTimestamp(l))!==null&&i!==void 0?i:void 0}),p===s.x&&d===s.y&&v===s.paneId||(!E(c)||a!=null&&a||this._chart.crosshairChange(this._crosshair),o!=null&&o||this._chart.updatePane(1))},r.prototype.getCrosshair=function(){return this._crosshair},r.prototype.setActiveTooltipIcon=function(e){this._activeTooltipIcon=e??null},r.prototype.getActiveTooltipIcon=function(){return this._activeTooltipIcon},r.prototype.executeAction=function(e,t){var i;(i=this._actions.get(e))===null||i===void 0||i.execute(t)},r.prototype.subscribeAction=function(e,t){var i;this._actions.has(e)||this._actions.set(e,new qi),(i=this._actions.get(e))===null||i===void 0||i.subscribe(t)},r.prototype.unsubscribeAction=function(e,t){var i=this._actions.get(e);E(i)&&(i.unsubscribe(t),i.isEmpty()&&this._actions.delete(e))},r.prototype.hasAction=function(e){var t=this._actions.get(e);return E(t)&&!t.isEmpty()},r.prototype._sortIndicators=function(e){var t;z(e)?(t=this._indicators.get(e))===null||t===void 0||t.sort(function(i,n){return i.zLevel-n.zLevel}):this._indicators.forEach(function(i){i.sort(function(n,o){return n.zLevel-o.zLevel})})},r.prototype._addIndicatorCalcTask=function(e,t){var i=this;this._taskScheduler.addTask({id:Ke(e.id),handler:function(){var n;(n=e.onDataStateChange)===null||n===void 0||n.call(e,{state:Gt.Loading,type:t,indicator:e}),e.calcImp(i._dataList).then(function(o){var a;o&&(i._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),(a=e.onDataStateChange)===null||a===void 0||a.call(e,{state:Gt.Ready,type:t,indicator:e}))}).catch(function(){var o;(o=e.onDataStateChange)===null||o===void 0||o.call(e,{state:Gt.Error,type:t,indicator:e})})}})},r.prototype.addIndicator=function(e,t,i){var n=e.name;if(this.getIndicatorsByFilter(e).length>0)return!1;var o=this.getIndicatorsByPaneId(t),a=new(oi(n));return this._synchronizeIndicatorSeriesPrecision(a),a.paneId=t,a.override(e),i||(this.removeIndicator({paneId:t}),o=[]),o.push(a),this._indicators.set(t,o),this._sortIndicators(t),this._addIndicatorCalcTask(a,et.Init),!0},r.prototype.getIndicatorsByPaneId=function(e){var t;return(t=this._indicators.get(e))!==null&&t!==void 0?t:[]},r.prototype.getIndicatorsByFilter=function(e){var t=e.paneId,i=e.name,n=e.id,o=function(s){return E(n)?s.id===n:!E(i)||s.name===i},a=[];return E(t)?a=a.concat(this.getIndicatorsByPaneId(t).filter(o)):this._indicators.forEach(function(s){a=a.concat(s.filter(o))}),a},r.prototype.removeIndicator=function(e){var t=this,i=!1;return this.getIndicatorsByFilter(e).forEach(function(n){var o=t.getIndicatorsByPaneId(n.paneId),a=o.findIndex(function(s){return s.id===n.id});a>-1&&(t._taskScheduler.removeTask(Ke(n.id)),o.splice(a,1),i=!0),o.length===0&&t._indicators.delete(n.paneId)}),i},r.prototype.hasIndicators=function(e){return this._indicators.has(e)},r.prototype._synchronizeIndicatorSeriesPrecision=function(e){var t=this._precision,i=t.price,n=t.volume,o=function(a){switch(a.series){case m.IndicatorSeries.Price:a.setSeriesPrecision(i);break;case m.IndicatorSeries.Volume:a.setSeriesPrecision(n)}};E(e)?o(e):this._indicators.forEach(function(a){a.forEach(function(s){o(s)})})},r.prototype.overrideIndicator=function(e){var t=this,i=!1,n=!1;return this.getIndicatorsByFilter(e).forEach(function(o){o.override(e);var a=o.shouldUpdateImp(),s=a.calc,l=a.draw;a.sort&&(n=!0),s?t._addIndicatorCalcTask(o,et.Update):l&&(i=!0)}),n&&this._sortIndicators(),!!i&&(this._chart.layout({update:!0}),!0)},r.prototype.getOverlaysByFilter=function(e){var t,i=e.id,n=e.groupId,o=e.paneId,a=e.name,s=function(c){return E(i)?c.id===i:E(n)?c.groupId===n&&(!E(a)||c.name===a):!E(a)||c.name===a},l=[];E(o)?l=l.concat(this.getOverlaysByPaneId(o).filter(s)):this._overlays.forEach(function(c){l=l.concat(c.filter(s))});var u=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;return E(u)&&s(u)&&l.push(u),l},r.prototype.getOverlaysByPaneId=function(e){var t;if(!z(e)){var i=[];return this._overlays.forEach(function(n){i=i.concat(n)}),i}return(t=this._overlays.get(e))!==null&&t!==void 0?t:[]},r.prototype._sortOverlays=function(e){var t;z(e)?(t=this._overlays.get(e))===null||t===void 0||t.sort(function(i,n){return i.zLevel-n.zLevel}):this._overlays.forEach(function(i){i.sort(function(n,o){return n.zLevel-o.zLevel})})},r.prototype.addOverlays=function(e,t){var i=this,n=[],o=e.map(function(a,s){var l,u,c,h,p,d,v,g;if(E(a.id)){var f=null;try{for(var y=tt(i._overlays),x=y.next();!x.done;x=y.next())if(E(T=pt(x.value,2)[1].find(function(S){return S.id===a.id}))){f=T;break}}catch(S){l={error:S}}finally{try{x&&!x.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}if(E(f))return a.id}var _=Pn(a.name);if(E(_)){var b=(c=a.id)!==null&&c!==void 0?c:ie("overlay_"),T=new _,C=(h=a.paneId)!==null&&h!==void 0?h:K;a.id=b,(p=a.groupId)!==null&&p!==void 0||(a.groupId=b);var w=i.getOverlaysByPaneId(C).length;return(d=a.zLevel)!==null&&d!==void 0||(a.zLevel=w),T.override(a),n.includes(C)||n.push(C),T.isDrawing()?i._progressOverlayInfo={paneId:C,overlay:T,appointPaneFlag:t[s]}:(i._overlays.has(C)||i._overlays.set(C,[]),(v=i._overlays.get(C))===null||v===void 0||v.push(T)),T.isStart()&&((g=T.onDrawStart)===null||g===void 0||g.call(T,{overlay:T,chart:i._chart})),b}return null});return n.length>0&&(this._sortOverlays(),n.forEach(function(a){i._chart.updatePane(1,a)}),this._chart.updatePane(1,H)),o},r.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},r.prototype.progressOverlayComplete=function(){var e;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,i=t.overlay,n=t.paneId;i.isDrawing()||(this._overlays.has(n)||this._overlays.set(n,[]),(e=this._overlays.get(n))===null||e===void 0||e.push(i),this._sortOverlays(n),this._progressOverlayInfo=null)}},r.prototype.updateProgressOverlayInfo=function(e,t){this._progressOverlayInfo!==null&&(Ht(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=e,this._progressOverlayInfo.overlay.override({paneId:e}))},r.prototype.overrideOverlay=function(e){var t=this,i=!1,n=[];return this.getOverlaysByFilter(e).forEach(function(o){o.override(e);var a=o.shouldUpdate(),s=a.sort,l=a.draw;s&&(i=!0),(s||l)&&(n.includes(o.paneId)||n.push(o.paneId))}),i&&this._sortOverlays(),n.length>0&&(n.forEach(function(o){t._chart.updatePane(1,o)}),this._chart.updatePane(1,H),!0)},r.prototype.removeOverlay=function(e){var t=this,i=[];return this.getOverlaysByFilter(e).forEach(function(n){var o,a=n.paneId,s=t.getOverlaysByPaneId(n.paneId);if((o=n.onRemoved)===null||o===void 0||o.call(n,{overlay:n,chart:t._chart}),i.includes(a)||i.push(a),n.isDrawing())t._progressOverlayInfo=null;else{var l=s.findIndex(function(u){return u.id===n.id});l>-1&&s.splice(l,1)}s.length===0&&t._overlays.delete(a)}),i.length>0&&(i.forEach(function(n){t._chart.updatePane(1,n)}),this._chart.updatePane(1,H),!0)},r.prototype.setPressedOverlayInfo=function(e){this._pressedOverlayInfo=e},r.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},r.prototype.setHoverOverlayInfo=function(e,t){var i,n=this._hoverOverlayInfo,o=n.overlay,a=n.figureType,s=n.figureIndex,l=n.figure,u=e.overlay;if((o?.id!==u?.id||a!==e.figureType||s!==e.figureIndex)&&(this._hoverOverlayInfo=e,o?.id!==u?.id)){var c=!1,h=!1;o!==null&&(o.override({zLevel:o.getPrevZLevel()}),h=!0,j(o.onMouseLeave)&&lt("onMouseLeave",l)&&(o.onMouseLeave(A({chart:this._chart,overlay:o,figure:l??void 0},t)),c=!0)),u!==null&&(u.setPrevZLevel(u.zLevel),u.override({zLevel:Number.MAX_SAFE_INTEGER}),h=!0,j(u.onMouseEnter)&&lt("onMouseEnter",e.figure)&&(u.onMouseEnter(A({chart:this._chart,overlay:u,figure:(i=e.figure)!==null&&i!==void 0?i:void 0},t)),c=!0)),h&&this._sortOverlays(),c||this._chart.updatePane(1)}},r.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},r.prototype.setClickOverlayInfo=function(e,t){var i,n,o,a,s,l,u=this._clickOverlayInfo,c=u.paneId,h=u.overlay,p=u.figureType,d=u.figure,v=u.figureIndex,g=e.overlay;(i=g?.isDrawing())!==null&&i!==void 0&&i||!lt("onClick",e.figure)||(n=g?.onClick)===null||n===void 0||n.call(g,A({chart:this._chart,overlay:g,figure:(o=e.figure)!==null&&o!==void 0?o:void 0},t)),h?.id===g?.id&&p===e.figureType&&v===e.figureIndex||(this._clickOverlayInfo=e,h?.id!==g?.id&&(lt("onDeselected",d)&&((a=h?.onDeselected)===null||a===void 0||a.call(h,A({chart:this._chart,overlay:h,figure:d??void 0},t))),lt("onSelected",e.figure)&&((s=g?.onSelected)===null||s===void 0||s.call(g,A({chart:this._chart,overlay:g,figure:(l=e.figure)!==null&&l!==void 0?l:void 0},t))),this._chart.updatePane(1,e.paneId),c!==e.paneId&&this._chart.updatePane(1,c),this._chart.updatePane(1,H)))},r.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},r.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},r.prototype.isOverlayDrawing=function(){var e,t;return(t=(e=this._progressOverlayInfo)===null||e===void 0?void 0:e.overlay.isDrawing())!==null&&t!==void 0&&t},r.prototype.clearData=function(){this._loadDataMore.backward=!1,this._loadDataMore.forward=!1,this._loading=!0,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._timeWeightTickMap.clear(),this._timeWeightTickList=[],this._crosshair={},this._activeTooltipIcon=null},r.prototype.getChart=function(){return this._chart},r}(),$="main",ft="xAxis",ut="yAxis",jt="separator",di=function(){function r(e,t){var i=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=Nt,this._mediaQueryListener=function(){var n=St(i._element);i._nextPixelWidth=Math.round(i._element.clientWidth*n),i._nextPixelHeight=Math.round(i._element.clientHeight*n),i._resetPixelRatio()},this._listener=t,this._element=gt("canvas",e),this._ctx=this._element.getContext("2d"),function(){return Fe(this,void 0,void 0,function(){return Le(this,function(n){switch(n.label){case 0:return[4,new Promise(function(o){var a=new ResizeObserver(function(s){o(s.every(function(l){return"devicePixelContentBoxSize"in l})),a.disconnect()});a.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,n.sent()]}})})}().then(function(n){i._supportedDevicePixelContentBox=n,n?(i._resizeObserver=new ResizeObserver(function(o){var a=o.find(function(l){return l.target===i._element}),s=a?.devicePixelContentBoxSize[0];E(s)&&(i._nextPixelWidth=s.inlineSize,i._nextPixelHeight=s.blockSize,i._pixelWidth===i._nextPixelWidth&&i._pixelHeight===i._nextPixelHeight||i._resetPixelRatio())}),i._resizeObserver.observe(i._element,{box:"device-pixel-content-box"})):(i._mediaQueryList=window.matchMedia("(resolution: ".concat(St(i._element),"dppx)")),i._mediaQueryList.addListener(i._mediaQueryListener))}).catch(function(n){return!1})}return r.prototype._resetPixelRatio=function(){var e=this;this._executeListener(function(){var t=e._element.clientWidth,i=e._element.clientHeight;e._width=t,e._height=i,e._pixelWidth=e._nextPixelWidth,e._pixelHeight=e._nextPixelHeight,e._element.width=e._nextPixelWidth,e._element.height=e._nextPixelHeight;var n=e._nextPixelWidth/t,o=e._nextPixelHeight/i;e._ctx.scale(n,o)})},r.prototype._executeListener=function(e){var t=this;this._requestAnimationId===Nt&&(this._requestAnimationId=ee(function(){t._ctx.clearRect(0,0,t._width,t._height),e?.(),t._listener(),t._requestAnimationId=Nt}))},r.prototype.update=function(e,t){if(this._width!==e||this._height!==t){if(this._element.style.width="".concat(e,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var i=St(this._element);this._nextPixelWidth=Math.round(e*i),this._nextPixelHeight=Math.round(t*i),this._resetPixelRatio()}}else this._executeListener()},r.prototype.getElement=function(){return this._element},r.prototype.getContext=function(){return this._ctx},r.prototype.destroy=function(){E(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),E(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},r}(),pi=function(r){function e(t,i){var n=r.call(this)||this;return n._bounding=te(),n._pane=i,n._rootContainer=t,n._container=n.createContainer(),t.appendChild(n._container),n}return N(e,r),e.prototype.setBounding=function(t){return Y(this._bounding,t),this},e.prototype.getContainer=function(){return this._container},e.prototype.getBounding=function(){return this._bounding},e.prototype.getPane=function(){return this._pane},e.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e}(Ce),we=function(r){function e(t,i){var n=r.call(this,t,i)||this;n._mainCanvas=new di({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){n.updateMain(n._mainCanvas.getContext())}),n._overlayCanvas=new di({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){n.updateOverlay(n._overlayCanvas.getContext())});var o=n.getContainer();return o.appendChild(n._mainCanvas.getElement()),o.appendChild(n._overlayCanvas.getElement()),n}return N(e,r),e.prototype.createContainer=function(){return gt("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},e.prototype.updateImp=function(t,i,n){var o=i.width,a=i.height,s=i.left;t.style.left="".concat(s,"px");var l=n,u=t.clientWidth,c=t.clientHeight;switch(o===u&&a===c||(t.style.width="".concat(o,"px"),t.style.height="".concat(a,"px"),l=3),l){case 0:this._mainCanvas.update(o,a);break;case 1:this._overlayCanvas.update(o,a);break;case 3:case 4:this._mainCanvas.update(o,a),this._overlayCanvas.update(o,a)}},e.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},e.prototype.getImage=function(t){var i=this.getBounding(),n=i.width,o=i.height,a=gt("canvas",{width:"".concat(n,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=St(a);return a.width=n*l,a.height=o*l,s.scale(l,l),s.drawImage(this._mainCanvas.getElement(),0,0,n,o),t&&s.drawImage(this._overlayCanvas.getElement(),0,0,n,o),a},e}(pi);function gi(r,e){var t,i,n=[];n=n.concat(e);try{for(var o=tt(n),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.x,u=s.y,c=s.r,h=r.x-l,p=r.y-u;if(!(h*h+p*p>c*c))return!0}}catch(d){t={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}var An={name:"circle",checkEventOn:gi,draw:function(r,e,t){(function(i,n,o){var a=[];a=a.concat(n);var s=o.style,l=s===void 0?m.PolygonType.Fill:s,u=o.color,c=u===void 0?"currentColor":u,h=o.borderSize,p=h===void 0?1:h,d=o.borderColor,v=d===void 0?"currentColor":d,g=o.borderStyle,f=g===void 0?m.LineType.Solid:g,y=o.borderDashedValue,x=y===void 0?[2,2]:y,_=!(l!==m.PolygonType.Fill&&o.style!==m.PolygonType.StrokeFill||z(c)&&Lt(c));_&&(i.fillStyle=c,a.forEach(function(b){var T=b.x,C=b.y,w=b.r;i.beginPath(),i.arc(T,C,w,0,2*Math.PI),i.closePath(),i.fill()})),(l===m.PolygonType.Stroke||o.style===m.PolygonType.StrokeFill)&&p>0&&!Lt(v)&&(i.strokeStyle=v,i.lineWidth=p,f===m.LineType.Dashed?i.setLineDash(x):i.setLineDash([]),a.forEach(function(b){var T=b.x,C=b.y,w=b.r;(!_||w>p)&&(i.beginPath(),i.arc(T,C,w,0,2*Math.PI),i.closePath(),i.stroke())}))})(r,e,t)}};function vi(r,e){var t,i,n=[];n=n.concat(e);try{for(var o=tt(n),a=o.next();!a.done;a=o.next()){for(var s=a.value,l=!1,u=s.coordinates,c=0,h=u.length-1;c<u.length;h=c++)u[c].y>r.y!=u[h].y>r.y&&r.x<(u[h].x-u[c].x)*(r.y-u[c].y)/(u[h].y-u[c].y)+u[c].x&&(l=!l);if(l)return!0}}catch(p){t={error:p}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}var Rn={name:"polygon",checkEventOn:vi,draw:function(r,e,t){(function(i,n,o){var a=[];a=a.concat(n);var s=o.style,l=s===void 0?m.PolygonType.Fill:s,u=o.color,c=u===void 0?"currentColor":u,h=o.borderSize,p=h===void 0?1:h,d=o.borderColor,v=d===void 0?"currentColor":d,g=o.borderStyle,f=g===void 0?m.LineType.Solid:g,y=o.borderDashedValue,x=y===void 0?[2,2]:y;l!==m.PolygonType.Fill&&o.style!==m.PolygonType.StrokeFill||z(c)&&Lt(c)||(i.fillStyle=c,a.forEach(function(_){var b=_.coordinates;i.beginPath(),i.moveTo(b[0].x,b[0].y);for(var T=1;T<b.length;T++)i.lineTo(b[T].x,b[T].y);i.closePath(),i.fill()})),(l===m.PolygonType.Stroke||o.style===m.PolygonType.StrokeFill)&&p>0&&!Lt(v)&&(i.strokeStyle=v,i.lineWidth=p,f===m.LineType.Dashed?i.setLineDash(x):i.setLineDash([]),a.forEach(function(_){var b=_.coordinates;i.beginPath(),i.moveTo(b[0].x,b[0].y);for(var T=1;T<b.length;T++)i.lineTo(b[T].x,b[T].y);i.closePath(),i.stroke()}))})(r,e,t)}};function fi(r,e){var t,i,n=[];n=n.concat(e);try{for(var o=tt(n),a=o.next();!a.done;a=o.next()){var s=a.value,l=s.x,u=s.width;u<4&&(l-=2,u=4);var c=s.y,h=s.height;if(h<4&&(c-=2,h=4),r.x>=l&&r.x<=l+u&&r.y>=c&&r.y<=c+h)return!0}}catch(p){t={error:p}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}function yi(r,e,t){var i,n=[];n=n.concat(e);var o=t.style,a=o===void 0?m.PolygonType.Fill:o,s=t.color,l=s===void 0?"transparent":s,u=t.borderSize,c=u===void 0?1:u,h=t.borderColor,p=h===void 0?"transparent":h,d=t.borderStyle,v=d===void 0?m.LineType.Solid:d,g=t.borderRadius,f=g===void 0?0:g,y=t.borderDashedValue,x=y===void 0?[2,2]:y,_=(i=r.roundRect)!==null&&i!==void 0?i:r.rect,b=!(a!==m.PolygonType.Fill&&t.style!==m.PolygonType.StrokeFill||z(l)&&Lt(l));if(b&&(r.fillStyle=l,n.forEach(function(w){var S=w.x,P=w.y,k=w.width,B=w.height;r.beginPath(),_.call(r,S,P,k,B,f),r.closePath(),r.fill()})),(a===m.PolygonType.Stroke||t.style===m.PolygonType.StrokeFill)&&c>0&&!Lt(p)){r.strokeStyle=p,r.fillStyle=p,r.lineWidth=c,v===m.LineType.Dashed?r.setLineDash(x):r.setLineDash([]);var T=c%2==1?.5:0,C=Math.round(2*T);n.forEach(function(w){var S=w.x,P=w.y,k=w.width,B=w.height;k>2*c&&B>2*c?(r.beginPath(),_.call(r,S+T,P+T,k-C,B-C,f),r.closePath(),r.stroke()):b||r.fillRect(S,P,k,B)})}}var Bn={name:"rect",checkEventOn:fi,draw:function(r,e,t){yi(r,e,t)}};function mi(r,e){var t=e.size,i=t===void 0?12:t,n=e.paddingLeft,o=n===void 0?0:n,a=e.paddingTop,s=a===void 0?0:a,l=e.paddingRight,u=l===void 0?0:l,c=e.paddingBottom,h=c===void 0?0:c,p=e.weight,d=p===void 0?"normal":p,v=e.family,g=r.x,f=r.y,y=r.text,x=r.align,_=x===void 0?"left":x,b=r.baseline,T=b===void 0?"top":b,C=r.width,w=r.height,S=C??o+Xt(y,i,d,v)+u,P=w??s+i+h,k=0;switch(_){case"left":case"start":k=g;break;case"right":case"end":k=g-S;break;default:k=g-S/2}var B=0;switch(T){case"top":case"hanging":B=f;break;case"bottom":case"ideographic":case"alphabetic":B=f-P;break;default:B=f-P/2}return{x:k,y:B,width:S,height:P}}function _i(r,e,t){var i,n,o=[];o=o.concat(e);try{for(var a=tt(o),s=a.next();!s.done;s=a.next()){var l=mi(s.value,t),u=l.x,c=l.y,h=l.width,p=l.height;if(r.x>=u&&r.x<=u+h&&r.y>=c&&r.y<=c+p)return!0}}catch(d){i={error:d}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return!1}var Fn={name:"text",checkEventOn:_i,draw:function(r,e,t){(function(i,n,o){var a=[];a=a.concat(n);var s=o.color,l=s===void 0?"currentColor":s,u=o.size,c=u===void 0?12:u,h=o.family,p=o.weight,d=o.paddingLeft,v=d===void 0?0:d,g=o.paddingTop,f=g===void 0?0:g,y=o.paddingRight,x=y===void 0?0:y,_=a.map(function(b){return mi(b,o)});yi(i,_,A(A({},o),{color:o.backgroundColor})),i.textAlign="left",i.textBaseline="top",i.font=At(c,p,h),i.fillStyle=l,a.forEach(function(b,T){var C=_[T];i.fillText(b.text,C.x+v,C.y+f,C.width-v-x)})})(r,e,t)}};function xi(r,e){var t,i,n,o,a,s,l=[];l=l.concat(e);try{for(var u=tt(l),c=u.next();!c.done;c=u.next()){var h=c.value;if(Math.abs((o=h,a=void 0,s=void 0,a=(n=r).x-o.x,s=n.y-o.y,Math.sqrt(a*a+s*s)-h.r))<2){var p=h.r,d=h.startAngle,v=h.endAngle,g=p*Math.cos(d)+h.x,f=p*Math.sin(d)+h.y,y=p*Math.cos(v)+h.x,x=p*Math.sin(v)+h.y;if(r.x<=Math.max(g,y)+2&&r.x>=Math.min(g,y)-2&&r.y<=Math.max(f,x)+2&&r.y>=Math.min(f,x)-2)return!0}}}catch(_){t={error:_}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return!1}var Ln={name:"arc",checkEventOn:xi,draw:function(r,e,t){(function(i,n,o){var a=[];a=a.concat(n);var s=o.style,l=s===void 0?m.LineType.Solid:s,u=o.size,c=u===void 0?1:u,h=o.color,p=h===void 0?"currentColor":h,d=o.dashedValue,v=d===void 0?[2,2]:d;i.lineWidth=c,i.strokeStyle=p,l===m.LineType.Dashed?i.setLineDash(v):i.setLineDash([]),a.forEach(function(g){var f=g.x,y=g.y,x=g.r,_=g.startAngle,b=g.endAngle;i.beginPath(),i.arc(f,y,x,_,b),i.stroke(),i.closePath()})})(r,e,t)}},qt={};[An,mn,Rn,Bn,Fn,Ln].forEach(function(r){qt[r.name]=ai.extend(r)});var yt,rt=function(r){function e(t){var i=r.call(this)||this;return i._widget=t,i}return N(e,r),e.prototype.getWidget=function(){return this._widget},e.prototype.createFigure=function(t,i){var n,o,a=(n=t.name,(o=qt[n])!==null&&o!==void 0?o:null);if(a!==null){var s=new a(t);if(E(i)){for(var l in i)i.hasOwnProperty(l)&&s.registerEvent(l,i[l]);this.addChild(s)}return s}return null},e.prototype.draw=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.clear(),this.drawImp(t,i)},e}(Ce),On=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i,n,o=this.getWidget(),a=this.getWidget().getPane(),s=a.getChart(),l=o.getBounding(),u=s.getStyles().grid;if(u.show){t.save(),t.globalCompositeOperation="destination-over";var c=u.horizontal;if(c.show){var h=a.getAxisComponent().getTicks().map(function(d){return{coordinates:[{x:0,y:d.coord},{x:l.width,y:d.coord}]}});(i=this.createFigure({name:"line",attrs:h,styles:c}))===null||i===void 0||i.draw(t)}var p=u.vertical;p.show&&(h=s.getXAxisPane().getAxisComponent().getTicks().map(function(d){return{coordinates:[{x:d.coord,y:0},{x:d.coord,y:l.height}]}}),(n=this.createFigure({name:"line",attrs:h,styles:p}))===null||n===void 0||n.draw(t)),t.restore()}},e}(rt),bi=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.eachChildren=function(t){for(var i=this.getWidget().getPane().getChart().getChartStore(),n=i.getVisibleRangeDataList(),o=i.getBarSpace(),a=n.length,s=0;s<a;)t(n[s],o,s),++s},e}(rt),Ci=function(r){function e(){var t=r.apply(this,Yt([],pt(arguments),!1))||this;return t._boundCandleBarClickEvent=function(i){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction(m.ActionType.OnCandleBarClick,i),!1}},t}return N(e,r),e.prototype.drawImp=function(t){var i=this,n=this.getWidget().getPane(),o=n.getId()===K,a=n.getChart().getChartStore(),s=this.getCandleBarOptions();if(s!==null){var l=s.type,u=s.styles,c=0,h=0;if(s.type===m.CandleType.Ohlc){var p=a.getBarSpace().gapBar;(c=Math.min(Math.max(Math.round(.2*p),1),8))>2&&c%2==1&&c--,h=Math.floor(h/2)}var d=n.getAxisComponent();this.eachChildren(function(v,g){var f,y=v.x,x=v.data,_=x.current,b=x.prev;if(E(_)){var T=_.open,C=_.high,w=_.low,S=_.close,P=u.compareRule===wt.CurrentOpen?T:(f=b?.close)!==null&&f!==void 0?f:S,k=[];S>P?(k[0]=u.upColor,k[1]=u.upBorderColor,k[2]=u.upWickColor):S<P?(k[0]=u.downColor,k[1]=u.downBorderColor,k[2]=u.downWickColor):(k[0]=u.noChangeColor,k[1]=u.noChangeBorderColor,k[2]=u.noChangeWickColor);var B=d.convertToPixel(T),O=d.convertToPixel(S),D=[B,O,d.convertToPixel(C),d.convertToPixel(w)];D.sort(function(R,F){return R-F});var M=g.gapBar%2==0?1:0,I=[];switch(l){case m.CandleType.CandleSolid:I=i._createSolidBar(y,D,g,k,M);break;case m.CandleType.CandleStroke:I=i._createStrokeBar(y,D,g,k,M);break;case m.CandleType.CandleUpStroke:I=S>T?i._createStrokeBar(y,D,g,k,M):i._createSolidBar(y,D,g,k,M);break;case m.CandleType.CandleDownStroke:I=T>S?i._createStrokeBar(y,D,g,k,M):i._createSolidBar(y,D,g,k,M);break;case m.CandleType.Ohlc:I=[{name:"rect",attrs:[{x:y-h,y:D[0],width:c,height:D[3]-D[0]},{x:y-g.halfGapBar,y:B+c>D[3]?D[3]-c:B,width:g.halfGapBar,height:c},{x:y+h,y:O+c>D[3]?D[3]-c:O,width:g.halfGapBar-h,height:c}],styles:{color:k[0]}}]}I.forEach(function(R){var F,V=null;o&&(V={mouseClickEvent:i._boundCandleBarClickEvent(v)}),(F=i.createFigure(R,V??void 0))===null||F===void 0||F.draw(t)})}})}},e.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},e.prototype._createSolidBar=function(t,i,n,o,a){return[{name:"rect",attrs:{x:t,y:i[0],width:1,height:i[3]-i[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:t-n.halfGapBar,y:i[1],width:n.gapBar+a,height:Math.max(1,i[2]-i[1])},styles:{style:m.PolygonType.StrokeFill,color:o[0],borderColor:o[1]}}]},e.prototype._createStrokeBar=function(t,i,n,o,a){return[{name:"rect",attrs:[{x:t,y:i[0],width:1,height:i[1]-i[0]},{x:t,y:i[2],width:1,height:i[3]-i[2]}],styles:{color:o[2]}},{name:"rect",attrs:{x:t-n.halfGapBar,y:i[1],width:n.gapBar+a,height:Math.max(1,i[2]-i[1])},styles:{style:m.PolygonType.Stroke,borderColor:o[1]}}]},e}(bi),Wn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.getCandleBarOptions=function(){var t,i,n=this.getWidget().getPane();if(!n.getAxisComponent().isInCandle()){var o=n.getChart().getChartStore(),a=o.getIndicatorsByPaneId(n.getId());try{for(var s=tt(a),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.shouldOhlc&&u.visible){var c=u.styles,h=o.getStyles().indicator,p=G(c,"ohlc.compareRule",h.ohlc.compareRule),d=G(c,"ohlc.upColor",h.ohlc.upColor),v=G(c,"ohlc.downColor",h.ohlc.downColor),g=G(c,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:m.CandleType.Ohlc,styles:{compareRule:p,upColor:d,downColor:v,noChangeColor:g,upBorderColor:d,downBorderColor:v,noChangeBorderColor:g,upWickColor:d,downWickColor:v,noChangeWickColor:g}}}}}catch(f){t={error:f}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}return null},e.prototype.drawImp=function(t){var i=this;r.prototype.drawImp.call(this,t);var n=this.getWidget(),o=n.getPane(),a=o.getChart(),s=n.getBounding(),l=a.getXAxisPane().getAxisComponent(),u=o.getAxisComponent(),c=a.getChartStore(),h=c.getIndicatorsByPaneId(o.getId()),p=c.getStyles().indicator;t.save(),h.forEach(function(d){if(d.visible){d.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var v=!1;if(d.draw!==null&&(t.save(),v=d.draw({ctx:t,chart:a,indicator:d,bounding:s,xAxis:l,yAxis:u}),t.restore()),!v){var g=d.result,f=[];i.eachChildren(function(y,x){var _,b,T,C=x.halfGapBar,w=y.dataIndex,S=y.x,P=l.convertToPixel(w-1),k=l.convertToPixel(w+1),B=(_=g[w-1])!==null&&_!==void 0?_:null,O=(b=g[w])!==null&&b!==void 0?b:null,D=(T=g[w+1])!==null&&T!==void 0?T:null,M={x:P},I={x:S},R={x:k};d.figures.forEach(function(F){var V=F.key,J=B?.[V];L(J)&&(M[V]=u.convertToPixel(J));var Z=O?.[V];L(Z)&&(I[V]=u.convertToPixel(Z));var Q=D?.[V];L(Q)&&(R[V]=u.convertToPixel(Q))}),ve(d,w,p,function(F,V,J){var Z,Q,X;if(E(O?.[F.key])){var mt=I[F.key],U=(Z=F.attrs)===null||Z===void 0?void 0:Z.call(F,{data:{prev:B,current:O,next:D},coordinate:{prev:M,current:I,next:R},bounding:s,barSpace:x,xAxis:l,yAxis:u});if(!E(U))switch(F.type){case"circle":U={x:S,y:mt,r:Math.max(1,C)};break;case"rect":case"bar":var Pt=(Q=F.baseValue)!==null&&Q!==void 0?Q:u.getRange().from,It=u.convertToPixel(Pt),_t=Math.abs(It-mt);Pt!==O?.[F.key]&&(_t=Math.max(1,_t)),U={x:S-C,y:mt>It?It:mt,width:Math.max(1,2*C),height:_t};break;case"line":E(f[J])||(f[J]=[]),L(I[F.key])&&L(R[F.key])&&f[J].push({coordinates:[{x:I.x,y:I[F.key]},{x:R.x,y:R[F.key]}],styles:V})}var ot=F.type;E(U)&&ot!=="line"&&((X=i.createFigure({name:ot==="bar"?"rect":ot,attrs:U,styles:V}))===null||X===void 0||X.draw(t))}})}),f.forEach(function(y){var x,_,b,T;if(y.length>1){for(var C=[{coordinates:[y[0].coordinates[0],y[0].coordinates[1]],styles:y[0].styles}],w=1;w<y.length;w++){var S=C[C.length-1],P=y[w],k=S.coordinates[S.coordinates.length-1];k.x===P.coordinates[0].x&&k.y===P.coordinates[0].y&&S.styles.style===P.styles.style&&S.styles.color===P.styles.color&&S.styles.size===P.styles.size&&S.styles.smooth===P.styles.smooth&&((x=S.styles.dashedValue)===null||x===void 0?void 0:x[0])===((_=P.styles.dashedValue)===null||_===void 0?void 0:_[0])&&((b=S.styles.dashedValue)===null||b===void 0?void 0:b[1])===((T=P.styles.dashedValue)===null||T===void 0?void 0:T[1])?S.coordinates.push(P.coordinates[1]):C.push({coordinates:[P.coordinates[0],P.coordinates[1]],styles:P.styles})}C.forEach(function(B){var O,D=B.coordinates,M=B.styles;(O=i.createFigure({name:"line",attrs:{coordinates:D},styles:M}))===null||O===void 0||O.draw(t)})}})}}}),t.restore()},e}(Ci),Nn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i=this.getWidget(),n=i.getPane(),o=i.getBounding(),a=i.getPane().getChart().getChartStore(),s=a.getCrosshair(),l=a.getStyles().crosshair;if(z(s.paneId)&&l.show){if(s.paneId===n.getId()){var u=s.y;this._drawLine(t,[{x:0,y:u},{x:o.width,y:u}],l.horizontal)}var c=s.realX;this._drawLine(t,[{x:c,y:0},{x:c,y:o.height}],l.vertical)}},e.prototype._drawLine=function(t,i,n){var o;if(n.show){var a=n.line;a.show&&((o=this.createFigure({name:"line",attrs:{coordinates:i},styles:a}))===null||o===void 0||o.draw(t))}},e}(rt),Ti=function(r){function e(){var t=r.apply(this,Yt([],pt(arguments),!1))||this;return t._boundIconClickEvent=function(i){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction(m.ActionType.OnTooltipIconClick,A({},i)),!0}},t._boundIconMouseMoveEvent=function(i){return function(){return t.getWidget().getPane().getChart().getChartStore().setActiveTooltipIcon(A({},i)),!0}},t}return N(e,r),e.prototype.drawImp=function(t){var i=this.getWidget(),n=i.getPane().getChart().getChartStore();if(E(n.getCrosshair().kLineData)){var o=i.getBounding(),a=n.getStyles().indicator.tooltip,s=a.offsetLeft,l=a.offsetTop,u=a.offsetRight;this.drawIndicatorTooltip(t,s,l,o.width-u)}},e.prototype.drawIndicatorTooltip=function(t,i,n,o){var a=this,s=this.getWidget().getPane(),l=s.getChart().getChartStore(),u=l.getStyles().indicator.tooltip;if(this.isDrawTooltip(l.getCrosshair(),u)){var c=l.getIndicatorsByPaneId(s.getId()),h=u.text;c.forEach(function(p){var d=0,v={x:i,y:n},g=a.getIndicatorTooltipData(p),f=g.name,y=g.calcParamsText,x=g.legends,_=g.icons,b=f.length>0,T=x.length>0;if(b||T){var C=pt(a.classifyTooltipIcons(_),3),w=C[0],S=C[1],P=C[2];if(d=a.drawStandardTooltipIcons(t,w,v,p.name,i,d,o),b){var k=f;y.length>0&&(k="".concat(k).concat(y)),d=a.drawStandardTooltipLegends(t,[{title:{text:"",color:h.color},value:{text:k,color:h.color}}],v,i,d,o,h)}d=a.drawStandardTooltipIcons(t,S,v,p.name,i,d,o),T&&(d=a.drawStandardTooltipLegends(t,x,v,i,d,o,u.text)),d=a.drawStandardTooltipIcons(t,P,v,p.name,i,d,o),n=v.y+d}})}return n},e.prototype.drawStandardTooltipIcons=function(t,i,n,o,a,s,l){var u=this;if(i.length>0){var c=0,h=0;i.forEach(function(g){var f=g.marginLeft,y=f===void 0?0:f,x=g.marginTop,_=x===void 0?0:x,b=g.marginRight,T=b===void 0?0:b,C=g.marginBottom,w=C===void 0?0:C,S=g.paddingLeft,P=S===void 0?0:S,k=g.paddingTop,B=k===void 0?0:k,O=g.paddingRight,D=O===void 0?0:O,M=g.paddingBottom,I=M===void 0?0:M,R=g.size,F=g.fontFamily,V=g.icon;t.font=At(R,"normal",F),c+=y+P+t.measureText(V).width+D+T,h=Math.max(h,_+B+R+I+w)}),n.x+c>l?(n.x=a,n.y+=s,s=h):s=Math.max(s,h);var p=this.getWidget().getPane(),d=p.getId(),v=p.getChart().getChartStore().getActiveTooltipIcon();i.forEach(function(g){var f,y=g.marginLeft,x=y===void 0?0:y,_=g.marginTop,b=_===void 0?0:_,T=g.marginRight,C=T===void 0?0:T,w=g.paddingLeft,S=w===void 0?0:w,P=g.paddingTop,k=P===void 0?0:P,B=g.paddingRight,O=B===void 0?0:B,D=g.paddingBottom,M=D===void 0?0:D,I=g.color,R=g.activeColor,F=g.size,V=g.fontFamily,J=g.icon,Z=g.backgroundColor,Q=g.activeBackgroundColor,X=v?.paneId===d&&v.indicatorName===o&&v.iconId===g.id;(f=u.createFigure({name:"text",attrs:{text:J,x:n.x+x,y:n.y+b},styles:{paddingLeft:S,paddingTop:k,paddingRight:O,paddingBottom:M,color:X?R:I,size:F,family:V,backgroundColor:X?Q:Z}},{mouseClickEvent:u._boundIconClickEvent({paneId:d,indicatorName:o,iconId:g.id}),mouseMoveEvent:u._boundIconMouseMoveEvent({paneId:d,indicatorName:o,iconId:g.id})}))===null||f===void 0||f.draw(t),n.x+=x+S+t.measureText(J).width+O+C})}return s},e.prototype.drawStandardTooltipLegends=function(t,i,n,o,a,s,l){var u=this;if(i.length>0){var c=l.marginLeft,h=l.marginTop,p=l.marginRight,d=l.marginBottom,v=l.size,g=l.family,f=l.weight;t.font=At(v,f,g),i.forEach(function(y){var x,_,b=y.title,T=y.value,C=t.measureText(b.text).width,w=C+t.measureText(T.text).width,S=h+v+d;n.x+c+w+p>s?(n.x=o,n.y+=a,a=S):a=Math.max(a,S),b.text.length>0&&((x=u.createFigure({name:"text",attrs:{x:n.x+c,y:n.y+h,text:b.text},styles:{color:b.color,size:v,family:g,weight:f}}))===null||x===void 0||x.draw(t)),(_=u.createFigure({name:"text",attrs:{x:n.x+c+C,y:n.y+h,text:T.text},styles:{color:T.color,size:v,family:g,weight:f}}))===null||_===void 0||_.draw(t),n.x+=c+w+p})}return a},e.prototype.isDrawTooltip=function(t,i){var n=i.showRule;return n===m.TooltipShowRule.Always||n===m.TooltipShowRule.FollowCross&&z(t.paneId)},e.prototype.getIndicatorTooltipData=function(t){var i,n,o=this.getWidget().getPane().getChart().getChartStore(),a=o.getStyles().indicator,s=a.tooltip,l=s.showName?t.shortName:"",u="";if(s.showParams){var c=t.calcParams;c.length>0&&(u="(".concat(c.join(","),")"))}var h={name:l,calcParamsText:u,legends:[],icons:s.icons},p=o.getCrosshair().dataIndex,d=t.result,v=o.getCustomApi(),g=o.getDecimalFold(),f=o.getThousandsSeparator(),y=[];if(t.visible){var x=(n=(i=d[p])!==null&&i!==void 0?i:d[p-1])!==null&&n!==void 0?n:{};ve(t,p,a,function(D,M){if(z(D.title)){var I=M.color,R=x[D.key];L(R)&&(R=q(R,t.precision),t.shouldFormatBigNumber&&(R=v.formatBigNumber(R)),R=g.format(f.format(R))),y.push({title:{text:D.title,color:I},value:{text:R??s.defaultValue,color:I}})}}),h.legends=y}if(j(t.createTooltipDataSource)){var _=this.getWidget(),b=_.getPane(),T=b.getChart(),C=t.createTooltipDataSource({chart:T,indicator:t,crosshair:o.getCrosshair(),bounding:_.getBounding(),xAxis:b.getChart().getXAxisPane().getAxisComponent(),yAxis:b.getAxisComponent()}),w=C.name,S=C.calcParamsText,P=C.legends,k=C.icons;if(z(w)&&s.showName&&(h.name=w),z(S)&&s.showParams&&(h.calcParamsText=S),E(k)&&(h.icons=k),E(P)&&t.visible){var B=[],O=a.tooltip.text.color;P.forEach(function(D){var M={text:"",color:O};nt(D.title)?M=D.title:M.text=D.title;var I={text:"",color:O};nt(D.value)?I=D.value:I.text=D.value,L(Number(I.text))&&(I.text=g.format(f.format(I.text))),B.push({title:M,value:I})}),h.legends=B}}return h},e.prototype.classifyTooltipIcons=function(t){var i=[],n=[],o=[];return t.forEach(function(a){switch(a.position){case m.TooltipIconPosition.Left:i.push(a);break;case m.TooltipIconPosition.Middle:n.push(a);break;case m.TooltipIconPosition.Right:o.push(a)}}),[i,n,o]},e}(rt),wi=function(r){function e(t){var i=r.call(this,t)||this;return i._initEvent(),i}return N(e,r),e.prototype._initEvent=function(){var t=this,i=this.getWidget().getPane(),n=i.getId(),o=i.getChart(),a=o.getChartStore();this.registerEvent("mouseMoveEvent",function(s){var l,u=a.getProgressOverlayInfo();if(u!==null){var c=u.overlay,h=u.paneId;c.isStart()&&(a.updateProgressOverlayInfo(n),h=n);var p=c.points.length-1;return c.isDrawing()&&h===n&&(c.eventMoveForDrawing(t._coordinateToPoint(c,s)),(l=c.onDrawing)===null||l===void 0||l.call(c,A({chart:o,overlay:c},s))),t._figureMouseMoveEvent(c,1,p,{key:"".concat(Wt,"point_").concat(p),type:"circle",attrs:{}})(s)}return a.setHoverOverlayInfo({paneId:n,overlay:null,figureType:0,figureIndex:-1,figure:null},s),!1}).registerEvent("mouseClickEvent",function(s){var l,u,c=a.getProgressOverlayInfo();if(c!==null){var h=c.overlay,p=c.paneId;h.isStart()&&(a.updateProgressOverlayInfo(n,!0),p=n);var d=h.points.length-1;return h.isDrawing()&&p===n&&(h.eventMoveForDrawing(t._coordinateToPoint(h,s)),(l=h.onDrawing)===null||l===void 0||l.call(h,A({chart:o,overlay:h},s)),h.nextStep(),h.isDrawing()||(a.progressOverlayComplete(),(u=h.onDrawEnd)===null||u===void 0||u.call(h,A({chart:o,overlay:h},s)))),t._figureMouseClickEvent(h,1,d,{key:"".concat(Wt,"point_").concat(d),type:"circle",attrs:{}})(s)}return a.setClickOverlayInfo({paneId:n,overlay:null,figureType:0,figureIndex:-1,figure:null},s),!1}).registerEvent("mouseDoubleClickEvent",function(s){var l,u=a.getProgressOverlayInfo();if(u!==null){var c=u.overlay,h=u.paneId;c.isDrawing()&&h===n&&(c.forceComplete(),c.isDrawing()||(a.progressOverlayComplete(),(l=c.onDrawEnd)===null||l===void 0||l.call(c,A({chart:o,overlay:c},s))));var p=c.points.length-1;return t._figureMouseClickEvent(c,1,p,{key:"".concat(Wt,"point_").concat(p),type:"circle",attrs:{}})(s)}return!1}).registerEvent("mouseRightClickEvent",function(s){var l=a.getProgressOverlayInfo();if(l!==null){var u=l.overlay;if(u.isDrawing()){var c=u.points.length-1;return t._figureMouseRightClickEvent(u,1,c,{key:"".concat(Wt,"point_").concat(c),type:"circle",attrs:{}})(s)}}return!1}).registerEvent("mouseUpEvent",function(s){var l,u=a.getPressedOverlayInfo(),c=u.overlay,h=u.figure;return c!==null&&lt("onPressedMoveEnd",h)&&((l=c.onPressedMoveEnd)===null||l===void 0||l.call(c,A({chart:o,overlay:c,figure:h??void 0},s))),a.setPressedOverlayInfo({paneId:n,overlay:null,figureType:0,figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",function(s){var l,u,c=a.getPressedOverlayInfo(),h=c.overlay,p=c.figureType,d=c.figureIndex,v=c.figure;if(h!==null&&lt("onPressedMoving",v)){if(!(h.lock||(u=(l=h.onPressedMoving)===null||l===void 0?void 0:l.call(h,A({chart:o,overlay:h,figure:v??void 0},s)))!==null&&u!==void 0&&u)){var g=t._coordinateToPoint(h,s);p===1?h.eventPressedPointMove(g,d):h.eventPressedOtherMove(g,t.getWidget().getPane().getChart().getChartStore())}return!0}return!1})},e.prototype._createFigureEvents=function(t,i,n,o){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,i,n,o),mouseDownEvent:this._figureMouseDownEvent(t,i,n,o),mouseClickEvent:this._figureMouseClickEvent(t,i,n,o),mouseRightClickEvent:this._figureMouseRightClickEvent(t,i,n,o),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,i,n,o)}},e.prototype._figureMouseMoveEvent=function(t,i,n,o){var a=this;return function(s){var l=a.getWidget().getPane();return l.getChart().getChartStore().setHoverOverlayInfo({paneId:l.getId(),overlay:t,figureType:i,figure:o,figureIndex:n},s),!0}},e.prototype._figureMouseDownEvent=function(t,i,n,o){var a=this;return function(s){var l,u=a.getWidget().getPane(),c=u.getId();return t.startPressedMove(a._coordinateToPoint(t,s)),!!lt("onPressedMoveStart",o)&&((l=t.onPressedMoveStart)===null||l===void 0||l.call(t,A({chart:u.getChart(),overlay:t,figure:o},s)),u.getChart().getChartStore().setPressedOverlayInfo({paneId:c,overlay:t,figureType:i,figureIndex:n,figure:o}),!0)}},e.prototype._figureMouseClickEvent=function(t,i,n,o){var a=this;return function(s){var l=a.getWidget().getPane(),u=l.getId();return l.getChart().getChartStore().setClickOverlayInfo({paneId:u,overlay:t,figureType:i,figureIndex:n,figure:o},s),!0}},e.prototype._figureMouseDoubleClickEvent=function(t,i,n,o){var a=this;return function(s){var l;return!!lt("onDoubleClick",o)&&((l=t.onDoubleClick)===null||l===void 0||l.call(t,A(A({},s),{chart:a.getWidget().getPane().getChart(),figure:o,overlay:t})),!0)}},e.prototype._figureMouseRightClickEvent=function(t,i,n,o){var a=this;return function(s){var l,u;return!!lt("onRightClick",o)&&((u=(l=t.onRightClick)===null||l===void 0?void 0:l.call(t,A({chart:a.getWidget().getPane().getChart(),overlay:t,figure:o},s)))!==null&&u!==void 0&&u||a.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!0)}},e.prototype._coordinateToPoint=function(t,i){var n,o={},a=this.getWidget().getPane(),s=a.getChart(),l=a.getId(),u=s.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var c=s.getXAxisPane().getAxisComponent().convertFromPixel(i.x),h=(n=u.dataIndexToTimestamp(c))!==null&&n!==void 0?n:void 0;o.timestamp=h,o.dataIndex=c}if(this.coordinateToPointValueFlag()){var p=a.getAxisComponent(),d=p.convertFromPixel(i.y);if(t.mode!==m.OverlayMode.Normal&&l===K&&L(o.dataIndex)){var v=u.getDataByDataIndex(o.dataIndex);if(v!==null){var g=t.modeSensitivity;if(d>v.high)if(t.mode===m.OverlayMode.WeakMagnet){var f=p.convertToPixel(v.high);d<p.convertFromPixel(f-g)&&(d=v.high)}else d=v.high;else if(d<v.low)if(t.mode===m.OverlayMode.WeakMagnet){var y=p.convertToPixel(v.low);d>p.convertFromPixel(y-g)&&(d=v.low)}else d=v.low;else{var x=Math.max(v.open,v.close),_=Math.min(v.open,v.close);d=d>x?d-x<v.high-d?x:v.high:d<_?d-v.low<_-d?v.low:_:x-d<d-_?x:_}}}o.value=d}return o},e.prototype.coordinateToPointValueFlag=function(){return!0},e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.dispatchEvent=function(t,i,n){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,i,n):r.prototype.dispatchEvent.call(this,t,i,n)},e.prototype.checkEventOn=function(){return!0},e.prototype.drawImp=function(t){var i=this;this.getCompleteOverlays().forEach(function(o){o.visible&&i._drawOverlay(t,o)});var n=this.getProgressOverlay();E(n)&&n.visible&&this._drawOverlay(t,n)},e.prototype._drawOverlay=function(t,i){var n=i.points,o=this.getWidget().getPane(),a=o.getChart(),s=a.getChartStore(),l=o.getAxisComponent(),u=a.getXAxisPane().getAxisComponent(),c=n.map(function(p){var d,v=null;L(p.timestamp)&&(v=s.timestampToDataIndex(p.timestamp));var g={x:0,y:0};return L(v)&&(g.x=u.convertToPixel(v)),L(p.value)&&(g.y=(d=l?.convertToPixel(p.value))!==null&&d!==void 0?d:0),g});if(c.length>0){var h=[].concat(this.getFigures(i,c));this.drawFigures(t,i,h)}this.drawDefaultFigures(t,i,c)},e.prototype.drawFigures=function(t,i,n){var o=this,a=this.getWidget().getPane().getChart().getStyles().overlay;n.forEach(function(s,l){var u=s.type,c=s.styles,h=s.attrs;[].concat(h).forEach(function(p){var d,v,g=o._createFigureEvents(i,2,l,s),f=A(A(A({},a[u]),(d=i.styles)===null||d===void 0?void 0:d[u]),c);(v=o.createFigure({name:u,attrs:p,styles:f},g??void 0))===null||v===void 0||v.draw(t)})})},e.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},e.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),i=t.getChart().getChartStore().getProgressOverlayInfo();return E(i)&&i.paneId===t.getId()?i.overlay:null},e.prototype.getFigures=function(t,i){var n,o,a=this.getWidget(),s=a.getPane(),l=s.getChart(),u=s.getAxisComponent(),c=l.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(n=t.createPointFigures)===null||n===void 0?void 0:n.call(t,{chart:l,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:u}))!==null&&o!==void 0?o:[]},e.prototype.drawDefaultFigures=function(t,i,n){var o,a,s=this;if(i.needDefaultPointFigure){var l=this.getWidget().getPane().getChart().getChartStore(),u=l.getHoverOverlayInfo(),c=l.getClickOverlayInfo();if(((o=u.overlay)===null||o===void 0?void 0:o.id)===i.id&&u.figureType!==0||((a=c.overlay)===null||a===void 0?void 0:a.id)===i.id&&c.figureType!==0){var h=l.getStyles().overlay,p=i.styles,d=A(A({},h.point),p?.point);n.forEach(function(v,g){var f,y,x,_,b,T=v.x,C=v.y,w=d.radius,S=d.color,P=d.borderColor,k=d.borderSize;((f=u.overlay)===null||f===void 0?void 0:f.id)===i.id&&u.figureType===1&&((y=u.figure)===null||y===void 0?void 0:y.key)==="".concat(Wt,"point_").concat(g)&&(w=d.activeRadius,S=d.activeColor,P=d.activeBorderColor,k=d.activeBorderSize),(_=s.createFigure({name:"circle",attrs:{x:T,y:C,r:w+k},styles:{color:P}},(x=s._createFigureEvents(i,1,g,{key:"".concat(Wt,"point_").concat(g),type:"circle",attrs:{x:T,y:C,r:w+k},styles:{color:P}}))!==null&&x!==void 0?x:void 0))===null||_===void 0||_.draw(t),(b=s.createFigure({name:"circle",attrs:{x:T,y:C,r:w},styles:{color:S}}))===null||b===void 0||b.draw(t)})}}},e}(rt),Ei=function(r){function e(t,i){var n=r.call(this,t,i)||this;return n._gridView=new On(n),n._indicatorView=new Wn(n),n._crosshairLineView=new Nn(n),n._tooltipView=n.createTooltipView(),n._overlayView=new wi(n),n.addChild(n._tooltipView),n.addChild(n._overlayView),n.getContainer().style.cursor="crosshair",n.registerEvent("mouseMoveEvent",function(){return i.getChart().getChartStore().setActiveTooltipIcon(),!1}),n}return N(e,r),e.prototype.getName=function(){return $},e.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},e.prototype.createTooltipView=function(){return new Ti(this)},e.prototype.updateMainContent=function(t){},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t)),this._tooltipView.draw(t)},e}(we),Vn=function(r){function e(){var t=r.apply(this,Yt([],pt(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new ye({iterationCount:1/0}).doFrame(function(i){t._animationFrameTime=i;var n=t.getWidget().getPane();n.getChart().updatePane(0,n.getId())}),t}return N(e,r),e.prototype.drawImp=function(t){var i,n,o,a=this.getWidget(),s=a.getPane(),l=s.getChart(),u=l.getDataList().length-1,c=a.getBounding(),h=s.getAxisComponent(),p=l.getStyles().candle.area,d=[],v=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,f=null;if(this.eachChildren(function(C){var w=C.x,S=C.data.current,P=S?.[p.value];if(L(P)){var k=h.convertToPixel(P);g===Number.MIN_SAFE_INTEGER&&(g=w),d.push({x:w,y:k}),v=Math.min(v,k),C.dataIndex===u&&(f={x:w,y:k})}}),d.length>0){(i=this.createFigure({name:"line",attrs:{coordinates:d},styles:{color:p.lineColor,size:p.lineSize,smooth:p.smooth}}))===null||i===void 0||i.draw(t);var y=p.backgroundColor,x="";if(st(y)){var _=t.createLinearGradient(0,c.height,0,v);try{y.forEach(function(C){var w=C.offset,S=C.color;_.addColorStop(w,S)})}catch{}x=_}else x=y;t.fillStyle=x,t.beginPath(),t.moveTo(g,c.height),t.lineTo(d[0].x,d[0].y),li(t,d,p.smooth),t.lineTo(d[d.length-1].x,c.height),t.closePath(),t.fill()}var b=p.point;if(b.show&&E(f)){(n=this.createFigure({name:"circle",attrs:{x:f.x,y:f.y,r:b.radius},styles:{style:"fill",color:b.color}}))===null||n===void 0||n.draw(t);var T=b.rippleRadius;b.animation&&(T=b.radius+this._animationFrameTime/b.animationDuration*(b.rippleRadius-b.radius),this._animation.setDuration(b.animationDuration).start()),(o=this._ripplePoint)===null||o===void 0||o.setAttrs({x:f.x,y:f.y,r:T}).setStyles({style:"fill",color:b.rippleColor}).draw(t)}else this.stopAnimation()},e.prototype.stopAnimation=function(){this._animation.stop()},e}(bi),zn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i=this.getWidget().getPane(),n=i.getChart().getChartStore(),o=n.getStyles().candle.priceMark,a=o.high,s=o.low;if(o.show&&(a.show||s.show)){var l=n.getVisibleRangeHighLowPrice(),u=n.getPrecision(),c=i.getAxisComponent(),h=l[0],p=h.price,d=h.x,v=l[1],g=v.price,f=v.x,y=c.convertToPixel(p),x=c.convertToPixel(g),_=n.getDecimalFold(),b=n.getThousandsSeparator();a.show&&p!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,_.format(b.format(q(p,u.price))),{x:d,y},y<x?[-2,-5]:[2,5],a),s.show&&g!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,_.format(b.format(q(g,u.price))),{x:f,y:x},y<x?[2,5]:[-2,-5],s)}},e.prototype._drawMark=function(t,i,n,o,a){var s,l,u,c=n.x,h=n.y+o[0];(s=this.createFigure({name:"line",attrs:{coordinates:[{x:c-2,y:h+o[0]},{x:c,y:h},{x:c+2,y:h+o[0]}]},styles:{color:a.color}}))===null||s===void 0||s.draw(t);var p=0,d=0,v="left";c>this.getWidget().getBounding().width/2?(d=(p=c-5)-a.textOffset,v="right"):(v="left",d=(p=c+5)+a.textOffset);var g=h+o[1];(l=this.createFigure({name:"line",attrs:{coordinates:[{x:c,y:h},{x:c,y:g},{x:p,y:g}]},styles:{color:a.color}}))===null||l===void 0||l.draw(t),(u=this.createFigure({name:"text",attrs:{x:d,y:g,text:i,align:v,baseline:"middle"},styles:{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}}))===null||u===void 0||u.draw(t)},e}(rt),Yn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i,n,o,a=this.getWidget(),s=a.getPane(),l=a.getBounding(),u=s.getChart().getChartStore(),c=u.getStyles().candle.priceMark,h=c.last,p=h.line;if(c.show&&h.show&&p.show){var d=s.getAxisComponent(),v=u.getDataList(),g=v[v.length-1];if(E(g)){var f=g.close,y=g.open,x=h.compareRule===wt.CurrentOpen?y:(n=(i=v[v.length-2])===null||i===void 0?void 0:i.close)!==null&&n!==void 0?n:f,_=d.convertToNicePixel(f),b="";b=f>x?h.upColor:f<x?h.downColor:h.noChangeColor,(o=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:_},{x:l.width,y:_}]},styles:{style:p.style,color:b,size:p.size,dashedValue:p.dashedValue}}))===null||o===void 0||o.draw(t)}}},e}(rt);(function(r){r.Left="left",r.Right="right"})(yt||(yt={}));var Si=function(){function r(e){this.scrollZoomEnabled=!0,this._range={from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0},this._prevRange={from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=e}return r.prototype.getParent=function(){return this._parent},r.prototype.buildTicks=function(e){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),!(this._prevRange.from===this._range.from&&this._prevRange.to===this._range.to&&!e)&&(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0)},r.prototype.getTicks=function(){return this._ticks},r.prototype.setRange=function(e){this._autoCalcTickFlag=!1,this._range=e},r.prototype.getRange=function(){return this._range},r.prototype.setAutoCalcTickFlag=function(e){this._autoCalcTickFlag=e},r.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},r}(),oe={"zh-CN":{time:"\u65F6\u95F4\uFF1A",open:"\u5F00\uFF1A",high:"\u9AD8\uFF1A",low:"\u4F4E\uFF1A",close:"\u6536\uFF1A",volume:"\u6210\u4EA4\u91CF\uFF1A",turnover:"\u6210\u4EA4\u989D\uFF1A",change:"\u6DA8\u5E45\uFF1A"},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: "}},Hn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i=this.getWidget(),n=i.getPane().getChart().getChartStore(),o=n.getCrosshair();if(E(o.kLineData)){var a=i.getBounding(),s=n.getStyles(),l=s.candle,u=s.indicator;if(l.tooltip.showType===m.TooltipShowType.Rect&&u.tooltip.showType===m.TooltipShowType.Rect){var c=this.isDrawTooltip(o,l.tooltip),h=this.isDrawTooltip(o,u.tooltip);this._drawRectTooltip(t,c,h,l.tooltip.offsetTop)}else if(l.tooltip.showType===m.TooltipShowType.Standard&&u.tooltip.showType===m.TooltipShowType.Standard){var p=l.tooltip,d=p.offsetLeft,v=p.offsetTop,g=p.offsetRight,f=a.width-g,y=this._drawCandleStandardTooltip(t,d,v,f);this.drawIndicatorTooltip(t,d,y,f)}else if(l.tooltip.showType===m.TooltipShowType.Rect&&u.tooltip.showType===m.TooltipShowType.Standard){var x=l.tooltip,_=(d=x.offsetLeft,v=x.offsetTop,g=x.offsetRight,f=a.width-g,this.drawIndicatorTooltip(t,d,v,f));c=this.isDrawTooltip(o,l.tooltip),this._drawRectTooltip(t,c,!1,_)}else{var b=l.tooltip,T=(d=b.offsetLeft,v=b.offsetTop,g=b.offsetRight,f=a.width-g,this._drawCandleStandardTooltip(t,d,v,f));h=this.isDrawTooltip(o,u.tooltip),this._drawRectTooltip(t,!1,h,T)}}},e.prototype._drawCandleStandardTooltip=function(t,i,n,o){var a=this.getWidget().getPane().getChart().getChartStore(),s=a.getStyles().candle.tooltip,l=s.text,u=0,c={x:i,y:n},h=a.getCrosshair();if(this.isDrawTooltip(h,s)){var p=this._getCandleTooltipLegends(),d=pt(this.classifyTooltipIcons(s.icons),3),v=d[0],g=d[1],f=d[2];u=this.drawStandardTooltipIcons(t,v,c,"",i,u,o),u=this.drawStandardTooltipIcons(t,g,c,"",i,u,o),p.length>0&&(u=this.drawStandardTooltipLegends(t,p,c,i,u,o,l)),u=this.drawStandardTooltipIcons(t,f,c,"",i,u,o)}return c.y+u},e.prototype._drawRectTooltip=function(t,i,n,o){var a,s,l=this,u=this.getWidget(),c=u.getPane(),h=c.getChart().getChartStore(),p=h.getStyles(),d=p.candle,v=p.indicator,g=d.tooltip,f=v.tooltip;if(i||n){var y=this._getCandleTooltipLegends(),x=g.offsetLeft,_=g.offsetTop,b=g.offsetRight,T=g.offsetBottom,C=g.text,w=C.marginLeft,S=C.marginRight,P=C.marginTop,k=C.marginBottom,B=C.size,O=C.weight,D=C.family,M=g.rect,I=M.position,R=M.paddingLeft,F=M.paddingRight,V=M.paddingTop,J=M.paddingBottom,Z=M.offsetLeft,Q=M.offsetRight,X=M.offsetTop,mt=M.offsetBottom,U=M.borderSize,Pt=M.borderRadius,It=M.borderColor,_t=M.color,ot=0,xt=0,ct=0;i&&(t.font=At(B,O,D),y.forEach(function(Ct){var at=Ct.title,it=Ct.value,dt="".concat(at.text).concat(it.text),Tt=t.measureText(dt).width+w+S;ot=Math.max(ot,Tt)}),ct+=(k+P+B)*y.length);var bt=f.text,Vt=bt.marginLeft,Wi=bt.marginRight,Ni=bt.marginTop,Vi=bt.marginBottom,Jt=bt.size,De=bt.weight,Me=bt.family,zi=[];if(n){var pr=h.getIndicatorsByPaneId(c.getId());t.font=At(Jt,De,Me),pr.forEach(function(Ct){var at=l.getIndicatorTooltipData(Ct).legends;zi.push(at),at.forEach(function(it){var dt=it.title,Tt=it.value,ce="".concat(dt.text).concat(Tt.text),yr=t.measureText(ce).width+Vt+Wi;ot=Math.max(ot,yr),ct+=Ni+Vi+Jt})})}if((xt+=ot)!==0&&ct!==0){var se=h.getCrosshair(),le=u.getBounding(),Yi=c.getYAxisWidget().getBounding();xt+=2*U+R+F,ct+=2*U+V+J;var gr=le.width/2,Hi=I===m.CandleTooltipRectPosition.Pointer&&se.paneId===K,Xi=((a=se.realX)!==null&&a!==void 0?a:0)>gr,ht=0;if(Hi){var Gi=se.realX;ht=Xi?Gi-Q-xt:Gi+Z}else{var ue=this.getWidget().getPane().getAxisComponent();Xi?(ht=Z+x,ue.inside&&ue.position===yt.Left&&(ht+=Yi.width)):(ht=le.width-Q-xt-b,ue.inside&&ue.position===yt.Right&&(ht-=Yi.width))}var zt=o+X;Hi&&((zt=se.y-ct/2)+ct>le.height-mt-T&&(zt=le.height-mt-ct-T),zt<o+X&&(zt=o+X+_)),(s=this.createFigure({name:"rect",attrs:{x:ht,y:zt,width:xt,height:ct},styles:{style:m.PolygonType.StrokeFill,color:_t,borderColor:It,borderSize:U,borderRadius:Pt}}))===null||s===void 0||s.draw(t);var vr=ht+U+R+w,kt=zt+U+V;if(i&&y.forEach(function(Ct){var at,it;kt+=P;var dt=Ct.title;(at=l.createFigure({name:"text",attrs:{x:vr,y:kt,text:dt.text},styles:{color:dt.color,size:B,family:D,weight:O}}))===null||at===void 0||at.draw(t);var Tt=Ct.value;(it=l.createFigure({name:"text",attrs:{x:ht+xt-U-S-F,y:kt,text:Tt.text,align:"right"},styles:{color:Tt.color,size:B,family:D,weight:O}}))===null||it===void 0||it.draw(t),kt+=B+k}),n){var fr=ht+U+R+Vt;zi.forEach(function(Ct){Ct.forEach(function(at){var it,dt;kt+=Ni;var Tt=at.title,ce=at.value;(it=l.createFigure({name:"text",attrs:{x:fr,y:kt,text:Tt.text},styles:{color:Tt.color,size:Jt,family:Me,weight:De}}))===null||it===void 0||it.draw(t),(dt=l.createFigure({name:"text",attrs:{x:ht+xt-U-Wi-F,y:kt,text:ce.text,align:"right"},styles:{color:ce.color,size:Jt,family:Me,weight:De}}))===null||dt===void 0||dt.draw(t),kt+=Jt+Vi})})}}}},e.prototype._getCandleTooltipLegends=function(){var t,i,n,o,a,s,l=this.getWidget().getPane().getChart().getChartStore(),u=l.getStyles().candle,c=l.getDataList(),h=l.getCustomApi(),p=l.getDecimalFold(),d=l.getThousandsSeparator(),v=l.getLocale(),g=l.getPrecision(),f=g.price,y=g.volume,x=(t=l.getCrosshair().dataIndex)!==null&&t!==void 0?t:0,_=u.tooltip,b=_.text.color,T=(i=c[x-1])!==null&&i!==void 0?i:null,C=c[x],w=(n=T?.close)!==null&&n!==void 0?n:C.close,S=C.close-w,P={"{time}":h.formatDate(C.timestamp,"YYYY-MM-DD HH:mm",m.FormatDateType.Tooltip),"{open}":p.format(d.format(q(C.open,f))),"{high}":p.format(d.format(q(C.high,f))),"{low}":p.format(d.format(q(C.low,f))),"{close}":p.format(d.format(q(C.close,f))),"{volume}":p.format(d.format(h.formatBigNumber(q((o=C.volume)!==null&&o!==void 0?o:_.defaultValue,y)))),"{turnover}":p.format(d.format(q((a=C.turnover)!==null&&a!==void 0?a:_.defaultValue,f))),"{change}":w===0?_.defaultValue:"".concat(d.format(q(S/w*100)),"%")};return(j(_.custom)?_.custom({prev:T,current:C,next:(s=c[x+1])!==null&&s!==void 0?s:null},u):_.custom).map(function(k){var B,O=k.title,D=k.value,M={text:"",color:b};nt(O)?M=A({},O):M.text=O,M.text=function(V,J){var Z;return(Z=oe[J][V])!==null&&Z!==void 0?Z:V}(M.text,v);var I={text:_.defaultValue,color:b};nt(D)?I=A({},D):I.text=D;var R=/{(\S*)}/.exec(I.text);if(R!==null&&R.length>1){var F="{".concat(R[1],"}");I.text=I.text.replace(F,(B=P[F])!==null&&B!==void 0?B:_.defaultValue),F==="{change}"&&(I.color=S===0?u.priceMark.last.noChangeColor:S>0?u.priceMark.last.upColor:u.priceMark.last.downColor)}return{title:M,value:I}})},e}(Ti),Xn=function(r){function e(t,i){var n=r.call(this,t,i)||this;return n._candleBarView=new Ci(n),n._candleAreaView=new Vn(n),n._candleHighLowPriceView=new zn(n),n._candleLastPriceLineView=new Yn(n),n.addChild(n._candleBarView),n}return N(e,r),e.prototype.updateMainContent=function(t){this.getPane().getChart().getStyles().candle.type!==m.CandleType.Area?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},e.prototype.createTooltipView=function(){return new Hn(this)},e}(Ei),Pi=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t,i){var n,o,a=this,s=this.getWidget(),l=s.getPane(),u=s.getBounding(),c=l.getAxisComponent(),h=this.getAxisStyles(l.getChart().getStyles());if(h.show&&(h.axisLine.show&&((n=this.createFigure({name:"line",attrs:this.createAxisLine(u,h),styles:h.axisLine}))===null||n===void 0||n.draw(t)),!i[0])){var p=c.getTicks();if(h.tickLine.show&&this.createTickLines(p,u,h).forEach(function(v){var g;(g=a.createFigure({name:"line",attrs:v,styles:h.tickLine}))===null||g===void 0||g.draw(t)}),h.tickText.show){var d=this.createTickTexts(p,u,h);(o=this.createFigure({name:"text",attrs:d,styles:h.tickText}))===null||o===void 0||o.draw(t)}}},e}(rt),Gn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.getAxisStyles=function(t){return t.yAxis},e.prototype.createAxisLine=function(t,i){var n=this.getWidget().getPane().getAxisComponent(),o=i.axisLine.size,a=0;return{coordinates:[{x:a=n.isFromZero()?0:t.width-o,y:0},{x:a,y:t.height}]}},e.prototype.createTickLines=function(t,i,n){var o=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,s=n.tickLine,l=0,u=0;return o.isFromZero()?(l=0,a.show&&(l+=a.size),u=l+s.length):(l=i.width,a.show&&(l-=a.size),u=l-s.length),t.map(function(c){return{coordinates:[{x:l,y:c.coord},{x:u,y:c.coord}]}})},e.prototype.createTickTexts=function(t,i,n){var o=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,s=n.tickLine,l=n.tickText,u=0;o.isFromZero()?(u=l.marginStart,a.show&&(u+=a.size),s.show&&(u+=s.length)):(u=i.width-l.marginEnd,a.show&&(u-=a.size),s.show&&(u-=s.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(h){return{x:u,y:h.coord,text:h.text,align:c,baseline:"middle"}})},e}(Pi),Un=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i,n,o,a=this.getWidget(),s=a.getPane(),l=a.getBounding(),u=s.getChart().getChartStore(),c=u.getStyles().candle.priceMark,h=c.last,p=h.text;if(c.show&&h.show&&p.show){var d=u.getPrecision(),v=s.getAxisComponent(),g=u.getDataList(),f=g[g.length-1];if(E(f)){var y=f.close,x=f.open,_=h.compareRule===wt.CurrentOpen?x:(n=(i=g[g.length-2])===null||i===void 0?void 0:i.close)!==null&&n!==void 0?n:y,b=v.convertToNicePixel(y),T="";T=y>_?h.upColor:y<_?h.downColor:h.noChangeColor;var C=v.getRange(),w=v.displayValueToText(v.realValueToDisplayValue(v.valueToRealValue(y,{range:C}),{range:C}),d.price);w=u.getDecimalFold().format(u.getThousandsSeparator().format(w));var S=0,P="left";v.isFromZero()?(S=0,P="left"):(S=l.width,P="right"),(o=this.createFigure({name:"text",attrs:{x:S,y:b,text:w,align:P,baseline:"middle"},styles:A(A({},p),{backgroundColor:T})}))===null||o===void 0||o.draw(t)}}},e}(rt),Zn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i=this,n=this.getWidget(),o=n.getPane(),a=n.getBounding(),s=o.getChart().getChartStore(),l=s.getStyles().indicator,u=l.lastValueMark,c=u.text;if(u.show){var h=o.getAxisComponent(),p=h.getRange(),d=s.getDataList().length-1,v=s.getIndicatorsByPaneId(o.getId()),g=s.getCustomApi(),f=s.getDecimalFold(),y=s.getThousandsSeparator();v.forEach(function(x){var _,b,T=x.result,C=(b=(_=T[d])!==null&&_!==void 0?_:T[d-1])!==null&&b!==void 0?b:{};if(E(C)&&x.visible){var w=x.precision;ve(x,d,l,function(S,P){var k,B=C[S.key];if(L(B)){var O=h.convertToNicePixel(B),D=h.displayValueToText(h.realValueToDisplayValue(h.valueToRealValue(B,{range:p}),{range:p}),w);x.shouldFormatBigNumber&&(D=g.formatBigNumber(D)),D=f.format(y.format(D));var M=0,I="left";h.isFromZero()?(M=0,I="left"):(M=a.width,I="right"),(k=i.createFigure({name:"text",attrs:{x:M,y:O,text:D,align:I,baseline:"middle"},styles:A(A({},c),{backgroundColor:P.color})}))===null||k===void 0||k.draw(t)}})}})}},e}(rt),Ii=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},e.prototype.drawDefaultFigures=function(t,i,n){this.drawFigures(t,i,this.getDefaultFigures(i,n))},e.prototype.getDefaultFigures=function(t,i){var n,o=this.getWidget(),a=o.getPane(),s=a.getChart().getChartStore(),l=s.getClickOverlayInfo(),u=[];if(t.needDefaultYAxisFigure&&t.id===((n=l.overlay)===null||n===void 0?void 0:n.id)&&l.paneId===a.getId()){var c=a.getAxisComponent(),h=o.getBounding(),p=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,v=c.isFromZero(),g="left",f=0;v?(g="left",f=0):(g="right",f=h.width);var y=s.getDecimalFold(),x=s.getThousandsSeparator();i.forEach(function(_,b){var T=t.points[b];if(L(T.value)){p=Math.min(p,_.y),d=Math.max(d,_.y);var C=y.format(x.format(q(T.value,s.getPrecision().price)));u.push({type:"text",attrs:{x:f,y:_.y,text:C,align:g,baseline:"middle"},ignoreEvent:!0})}}),i.length>1&&u.unshift({type:"rect",attrs:{x:0,y:p,width:h.width,height:d-p},ignoreEvent:!0})}return u},e.prototype.getFigures=function(t,i){var n,o,a=this.getWidget(),s=a.getPane(),l=s.getChart(),u=s.getAxisComponent(),c=l.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(n=t.createYAxisFigures)===null||n===void 0?void 0:n.call(t,{chart:l,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:u}))!==null&&o!==void 0?o:[]},e}(wi),ki=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.drawImp=function(t){var i,n=this.getWidget(),o=n.getPane(),a=n.getBounding(),s=n.getPane().getChart().getChartStore(),l=s.getCrosshair(),u=s.getStyles().crosshair;if(z(l.paneId)&&this.compare(l,o.getId())&&u.show){var c=this.getDirectionStyles(u),h=c.text;if(c.show&&h.show){var p=o.getAxisComponent(),d=this.getText(l,s,p);t.font=At(h.size,h.weight,h.family),(i=this.createFigure({name:"text",attrs:this.getTextAttrs(d,t.measureText(d).width,l,a,p,h),styles:h}))===null||i===void 0||i.draw(t)}}},e.prototype.compare=function(t,i){return t.paneId===i},e.prototype.getDirectionStyles=function(t){return t.horizontal},e.prototype.getText=function(t,i,n){var o=n,a=n.convertFromPixel(t.y),s=0,l=!1;o.isInCandle()?s=i.getPrecision().price:i.getIndicatorsByPaneId(t.paneId).forEach(function(h){s=Math.max(h.precision,s),l||(l=h.shouldFormatBigNumber)});var u=o.getRange(),c=o.displayValueToText(o.realValueToDisplayValue(o.valueToRealValue(a,{range:u}),{range:u}),s);return l&&(c=i.getCustomApi().formatBigNumber(c)),i.getDecimalFold().format(i.getThousandsSeparator().format(c))},e.prototype.getTextAttrs=function(t,i,n,o,a,s){var l=0,u="left";return a.isFromZero()?(l=0,u="left"):(l=o.width,u="right"),{x:l,y:n.y,text:t,align:u,baseline:"middle"}},e}(rt),jn=function(r){function e(t,i){var n=r.call(this,t,i)||this;return n._yAxisView=new Gn(n),n._candleLastPriceLabelView=new Un(n),n._indicatorLastValueView=new Zn(n),n._overlayYAxisView=new Ii(n),n._crosshairHorizontalLabelView=new ki(n),n.getContainer().style.cursor="ns-resize",n.addChild(n._overlayYAxisView),n}return N(e,r),e.prototype.getName=function(){return ut},e.prototype.updateMain=function(t){var i=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,i),i||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},e}(we),Kt=function(r){function e(t,i){var n=r.call(this,t)||this;return n.reverse=!1,n.inside=!1,n.position=yt.Right,n.gap={top:.2,bottom:.1},n.createRange=function(o){return o.defaultRange},n.minSpan=function(o){return Rt(-o)},n.valueToRealValue=function(o){return o},n.realValueToDisplayValue=function(o){return o},n.displayValueToRealValue=function(o){return o},n.realValueToValue=function(o){return o},n.displayValueToText=function(o,a){return q(o,a)},n.override(i),n}return N(e,r),e.prototype.override=function(t){var i=t.name,n=t.gap,o=$t(t,["name","gap"]);z(this.name)||(this.name=i),Y(this.gap,n),Y(this,o)},e.prototype.createRangeImp=function(){var t=this.getParent(),i=t.getChart(),n=i.getChartStore(),o=t.getId(),a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=!1,u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,p=n.getIndicatorsByPaneId(o);p.forEach(function(X){l||(l=X.shouldOhlc),h=Math.min(h,X.precision),L(X.minValue)&&(u=Math.min(u,X.minValue)),L(X.maxValue)&&(c=Math.max(c,X.maxValue))});var d=4,v=this.isInCandle();if(v){var g=n.getPrecision().price;d=h!==Number.MAX_SAFE_INTEGER?Math.min(h,g):g}else h!==Number.MAX_SAFE_INTEGER&&(d=h);var f=n.getVisibleRangeDataList(),y=i.getStyles().candle,x=y.type===m.CandleType.Area,_=y.area.value,b=v&&!x||!v&&l;f.forEach(function(X){var mt=X.dataIndex,U=X.data.current;if(E(U)&&(b&&(a=Math.min(a,U.low),s=Math.max(s,U.high)),v&&x)){var Pt=U[_];L(Pt)&&(a=Math.min(a,Pt),s=Math.max(s,Pt))}p.forEach(function(It){var _t,ot=It.result,xt=It.figures,ct=(_t=ot[mt])!==null&&_t!==void 0?_t:{};xt.forEach(function(bt){var Vt=ct[bt.key];L(Vt)&&(a=Math.min(a,Vt),s=Math.max(s,Vt))})})}),a!==Number.MAX_SAFE_INTEGER&&s!==Number.MIN_SAFE_INTEGER?(a=Math.min(u,a),s=Math.max(c,s)):(a=0,s=10);var T=s-a,C={from:a,to:s,range:T,realFrom:a,realTo:s,realRange:T,displayFrom:a,displayTo:s,displayRange:T},w=this.createRange({chart:i,paneId:o,defaultRange:C}),S=w.realFrom,P=w.realTo,k=w.realRange,B=this.minSpan(d);if(S===P||k<B){var O=u===S,D=c===P;S=O?S:D?S-8*B:S-4*B,P=D?P:O?P+8*B:P+4*B}var M=this.getBounding().height,I=this.gap,R=I.top;R>=1&&(R/=M);var F=I.bottom;F>=1&&(F/=M),S-=(k=P-S)*F,P+=k*R;var V=this.realValueToValue(S,{range:w}),J=this.realValueToValue(P,{range:w}),Z=this.realValueToDisplayValue(S,{range:w}),Q=this.realValueToDisplayValue(P,{range:w});return{from:V,to:J,range:J-V,realFrom:S,realTo:P,realRange:P-S,displayFrom:Z,displayTo:Q,displayRange:Q-Z}},e.prototype.isInCandle=function(){return this.getParent().getId()===K},e.prototype.isFromZero=function(){return this.position===yt.Left&&this.inside||this.position===yt.Right&&!this.inside},e.prototype.createTicksImp=function(){var t,i,n=this,o=this.getRange(),a=o.displayFrom,s=o.displayTo,l=o.displayRange,u=[];if(l>=0){var c=function(M){var I=Math.floor(vt(M)),R=Rt(I),F=M/R;return+(M=(F<1.5?1:F<2.5?2:F<3.5?3:F<4.5?4:F<5.5?5:F<6.5?6:8)*R).toFixed(Math.abs(I))}(l/8),h=function(M){var I=M.toString(),R=I.indexOf("e");if(R>0){var F=+I.slice(R+1);return F<0?-F:0}var V=I.indexOf(".");return V<0?0:I.length-1-V}(c),p=je(Math.ceil(a/c)*c,h),d=je(Math.floor(s/c)*c,h),v=0,g=p;if(c!==0)for(;g<=d;){var f=g.toFixed(h);u[v]={text:f,coord:0,value:f},++v,g+=c}}var y=this.getParent(),x=(i=(t=y.getYAxisWidget())===null||t===void 0?void 0:t.getBounding().height)!==null&&i!==void 0?i:0,_=y.getChart().getChartStore(),b=[],T=_.getIndicatorsByPaneId(y.getId()),C=_.getStyles(),w=0,S=!1;this.isInCandle()?w=_.getPrecision().price:T.forEach(function(M){w=Math.max(w,M.precision),S||(S=M.shouldFormatBigNumber)});var P=_.getCustomApi(),k=_.getThousandsSeparator(),B=_.getDecimalFold(),O=C.xAxis.tickText.size,D=NaN;return u.forEach(function(M){var I=M.value,R=n.displayValueToText(+I,w),F=n.convertToPixel(n.realValueToValue(n.displayValueToRealValue(+I,{range:o}),{range:o}));S&&(R=P.formatBigNumber(I)),R=B.format(k.format(R));var V=L(D);F>O&&F<x-O&&(V&&Math.abs(D-F)>2*O||!V)&&(b.push({text:R,coord:F,value:I}),D=F)}),j(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:b}):b},e.prototype.getAutoSize=function(){var t=this.getParent(),i=t.getChart().getChartStore(),n=i.getStyles(),o=n.yAxis,a=o.size;if(a!=="auto")return a;var s=0;if(o.show&&(o.axisLine.show&&(s+=o.axisLine.size),o.tickLine.show&&(s+=o.tickLine.length),o.tickText.show)){var l=0;this.getTicks().forEach(function(x){l=Math.max(l,Xt(x.text,o.tickText.size,o.tickText.weight,o.tickText.family))}),s+=o.tickText.marginStart+o.tickText.marginEnd+l}var u=n.crosshair,c=0;if(u.show&&u.horizontal.show&&u.horizontal.text.show){var h=i.getIndicatorsByPaneId(t.getId()),p=0,d=!1;h.forEach(function(x){p=Math.max(x.precision,p),d||(d=x.shouldFormatBigNumber)});var v=2;if(this.isInCandle()){var g=i.getPrecision().price,f=n.indicator.lastValueMark;v=f.show&&f.text.show?Math.max(p,g):g}else v=p;var y=q(this.getRange().displayTo,v);d&&(y=i.getCustomApi().formatBigNumber(y)),y=i.getDecimalFold().format(y),c+=u.horizontal.text.paddingLeft+u.horizontal.text.paddingRight+2*u.horizontal.text.borderSize+Xt(y,u.horizontal.text.size,u.horizontal.text.weight,u.horizontal.text.family)}return Math.max(s,c)},e.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},e.prototype.convertFromPixel=function(t){var i=this.getBounding().height,n=this.getRange(),o=n.realFrom,a=n.realRange,s=(this.reverse?t/i:1-t/i)*a+o;return this.realValueToValue(s,{range:n})},e.prototype.convertToPixel=function(t){var i,n,o=this.getRange(),a=this.valueToRealValue(t,{range:o}),s=(n=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&n!==void 0?n:0,l=(a-o.realFrom)/o.realRange;return this.reverse?Math.round(l*s):Math.round((1-l)*s)},e.prototype.convertToNicePixel=function(t){var i,n,o=(n=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&n!==void 0?n:0,a=this.convertToPixel(t);return Math.round(Math.max(.05*o,Math.min(a,.98*o)))},e.extend=function(t){var i=function(n){function o(a){return n.call(this,a,t)||this}return N(o,n),o}(e);return i},e}(Si),qn={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(r){return"".concat(q(r,2),"%")},valueToRealValue:function(r,e){var t=e.range;return(r-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(r,e){var t=e.range;return(r-t.realFrom)/t.realRange*t.range+t.from},createRange:function(r){var e=r.chart,t=r.defaultRange,i=e.getDataList()[e.getVisibleRange().from];if(E(i)){var n=t.from,o=t.to,a=t.range,s=(t.from-i.close)/i.close*100,l=(t.to-i.close)/i.close*100,u=l-s;return{from:n,to:o,range:a,realFrom:s,realTo:l,realRange:u,displayFrom:s,displayTo:l,displayRange:u}}return t}},Kn={name:"logarithm",minSpan:function(r){return .05*Rt(-r)},valueToRealValue:function(r){return r<0?-vt(Math.abs(r)):vt(r)},realValueToDisplayValue:function(r){return r<0?-Rt(Math.abs(r)):Rt(r)},displayValueToRealValue:function(r){return r<0?-vt(Math.abs(r)):vt(r)},realValueToValue:function(r){return r<0?-Rt(Math.abs(r)):Rt(r)},createRange:function(r){var e=r.defaultRange,t=e.from,i=e.to,n=e.range,o=t<0?-vt(Math.abs(t)):vt(t),a=i<0?-vt(Math.abs(i)):vt(i);return{from:t,to:i,range:n,realFrom:o,realTo:a,realRange:a-o,displayFrom:t,displayTo:i,displayRange:n}}},Ee={normal:Kt.extend({name:"normal"}),percentage:Kt.extend(qn),logarithm:Kt.extend(Kn)},Di=function(){function r(e,t){this._bounding=te(),this._originalBounding=te(),this._visible=!0,this._chart=e,this._id=t,this._container=gt("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}return r.prototype.getContainer=function(){return this._container},r.prototype.setVisible=function(e){this._visible!==e&&(this._container.style.display=e?"block":"none",this._visible=e)},r.prototype.getVisible=function(){return this._visible},r.prototype.getId=function(){return this._id},r.prototype.getChart=function(){return this._chart},r.prototype.getBounding=function(){return this._bounding},r.prototype.setOriginalBounding=function(e){Y(this._originalBounding,e)},r.prototype.getOriginalBounding=function(){return this._originalBounding},r.prototype.update=function(e){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(e??3,this._container,this._bounding)},r}(),Mi=function(r){function e(t,i,n){var o=r.call(this,t,i)||this;o._yAxisWidget=null,o._options={id:"",minHeight:30,dragEnabled:!0,order:0,height:100,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var a=o.getContainer();return o._mainWidget=o.createMainWidget(a),o._yAxisWidget=o.createYAxisWidget(a),o.setOptions(n),o}return N(e,r),e.prototype.setOptions=function(t){var i,n,o,a,s,l=this.getId();if(l===K||l===H){var u=(i=t.axis)===null||i===void 0?void 0:i.name;(!E(this._axis)||E(u)&&this._options.axis.name!==u)&&(this._axis=this.createAxisComponent(u??"normal"))}else E(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof Kt&&this._axis.setAutoCalcTickFlag(!0),Y(this._options,t),this._axis.override(A(A({},this._options.axis),{name:(o=(n=t.axis)===null||n===void 0?void 0:n.name)!==null&&o!==void 0?o:"normal"}));var c=null,h="default";return this.getId()===H?(c=this.getMainWidget().getContainer(),h="ew-resize"):(c=this.getYAxisWidget().getContainer(),h="ns-resize"),(s=(a=t.axis)===null||a===void 0?void 0:a.scrollZoomEnabled)===null||s===void 0||s?c.style.cursor=h:c.style.cursor="default",this},e.prototype.getOptions=function(){return this._options},e.prototype.getAxisComponent=function(){return this._axis},e.prototype.setBounding=function(t,i,n,o){var a,s,l,u;Y(this.getBounding(),t);var c={};E(t.height)&&(c.height=t.height),E(t.top)&&(c.top=t.top),this._mainWidget.setBounding(c);var h=E(i);return h&&this._mainWidget.setBounding(i),E(this._yAxisWidget)&&(this._yAxisWidget.setBounding(c),this._axis.position===yt.Left?E(n)&&this._yAxisWidget.setBounding(A(A({},n),{left:0})):E(o)&&(this._yAxisWidget.setBounding(o),h&&this._yAxisWidget.setBounding({left:((a=i.left)!==null&&a!==void 0?a:0)+((s=i.width)!==null&&s!==void 0?s:0)+((l=i.right)!==null&&l!==void 0?l:0)-((u=o.width)!==null&&u!==void 0?u:0)}))),this},e.prototype.getMainWidget=function(){return this._mainWidget},e.prototype.getYAxisWidget=function(){return this._yAxisWidget},e.prototype.updateImp=function(t){var i;this._mainWidget.update(t),(i=this._yAxisWidget)===null||i===void 0||i.update(t)},e.prototype.destroy=function(){var t;this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},e.prototype.getImage=function(t){var i=this.getBounding(),n=i.width,o=i.height,a=gt("canvas",{width:"".concat(n,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=St(a);a.width=n*l,a.height=o*l,s.scale(l,l);var u=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(t),u.left,0,u.width,u.height),this._yAxisWidget!==null){var c=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(t),c.left,0,c.width,c.height)}return a},e.prototype.createYAxisWidget=function(t){return null},e}(Di),Ai=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.createAxisComponent=function(t){var i=function(n){var o;return(o=Ee[n])!==null&&o!==void 0?o:Ee.normal}(t??"default");return new i(this)},e.prototype.createMainWidget=function(t){return new Ei(t,this)},e.prototype.createYAxisWidget=function(t){return new jn(t,this)},e}(Mi),Jn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.createMainWidget=function(t){return new Xn(t,this)},e}(Ai),$n=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.getAxisStyles=function(t){return t.xAxis},e.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},e.prototype.createTickLines=function(t,i,n){var o=n.tickLine,a=n.axisLine.size;return t.map(function(s){return{coordinates:[{x:s.coord,y:0},{x:s.coord,y:a+o.length}]}})},e.prototype.createTickTexts=function(t,i,n){var o=n.tickText,a=n.axisLine.size,s=n.tickLine.length;return t.map(function(l){return{x:l.coord,y:a+s+o.marginStart,text:l.text,align:"center",baseline:"top"}})},e}(Pi),Qn=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.coordinateToPointValueFlag=function(){return!1},e.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},e.prototype.getProgressOverlay=function(){var t,i;return(i=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&i!==void 0?i:null},e.prototype.getDefaultFigures=function(t,i){var n,o=[],a=this.getWidget(),s=a.getPane().getChart().getChartStore(),l=s.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((n=l.overlay)===null||n===void 0?void 0:n.id)){var u=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;i.forEach(function(h,p){u=Math.min(u,h.x),c=Math.max(c,h.x);var d=t.points[p];if(L(d.timestamp)){var v=s.getCustomApi().formatDate(d.timestamp,"YYYY-MM-DD HH:mm",m.FormatDateType.Crosshair);o.push({type:"text",attrs:{x:h.x,y:0,text:v,align:"center"},ignoreEvent:!0})}}),i.length>1&&o.unshift({type:"rect",attrs:{x:u,y:0,width:c-u,height:a.getBounding().height},ignoreEvent:!0})}return o},e.prototype.getFigures=function(t,i){var n,o,a=this.getWidget(),s=a.getPane(),l=s.getChart(),u=s.getAxisComponent(),c=l.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(n=t.createXAxisFigures)===null||n===void 0?void 0:n.call(t,{chart:l,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:u}))!==null&&o!==void 0?o:[]},e}(Ii),tr=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.compare=function(t){return E(t.timestamp)},e.prototype.getDirectionStyles=function(t){return t.vertical},e.prototype.getText=function(t,i){var n=t.timestamp;return i.getCustomApi().formatDate(n,"YYYY-MM-DD HH:mm",m.FormatDateType.Crosshair)},e.prototype.getTextAttrs=function(t,i,n,o,a,s){var l=n.realX,u=0,c="center";return l-i/2-s.paddingLeft<0?(u=0,c="left"):l+i/2+s.paddingRight>o.width?(u=o.width,c="right"):u=l,{x:u,y:0,text:t,align:c,baseline:"top"}},e}(ki),er=function(r){function e(t,i){var n=r.call(this,t,i)||this;return n._xAxisView=new $n(n),n._overlayXAxisView=new Qn(n),n._crosshairVerticalLabelView=new tr(n),n.getContainer().style.cursor="ew-resize",n.addChild(n._overlayXAxisView),n}return N(e,r),e.prototype.getName=function(){return ft},e.prototype.updateMain=function(t){this._xAxisView.draw(t)},e.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},e}(we),Ri=function(r){function e(t,i){var n=r.call(this,t)||this;return n.override(i),n}return N(e,r),e.prototype.override=function(t){var i=t.name,n=t.scrollZoomEnabled,o=t.createTicks;z(this.name)||(this.name=i),this.scrollZoomEnabled=n??this.scrollZoomEnabled,this.createTicks=o??this.createTicks},e.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore().getVisibleRange(),i=t.realFrom,n=t.realTo,o=n-i+1;return{from:i,to:n,range:o,realFrom:i,realTo:n,realRange:o,displayFrom:i,displayTo:n,displayRange:o}},e.prototype.createTicksImp=function(){var t=this,i=this.getRange(),n=i.realFrom,o=i.realTo,a=this.getParent().getChart().getChartStore(),s=a.getCustomApi().formatDate,l=a.getTimeWeightTickList(),u=[],c=function(_,b){var T,C;try{for(var w=tt(_),S=w.next();!S.done;S=w.next()){var P=S.value;if(P.dataIndex>=b&&P.dataIndex<o){var k=P.timestamp,B=P.weight,O=P.dataIndex,D="";switch(B){case Je:D=s(k,"YYYY",m.FormatDateType.XAxis);break;case $e:D=s(k,"YYYY-MM",m.FormatDateType.XAxis);break;case Qe:D=s(k,"MM-DD",m.FormatDateType.XAxis);break;case ti:case ei:D=s(k,"HH:mm",m.FormatDateType.XAxis);break;case xe:D=s(k,"mm:ss",m.FormatDateType.XAxis);break;default:D=s(k,"YYYY-MM-DD HH:mm",m.FormatDateType.XAxis)}u.push({coord:t.convertToPixel(O),value:k,text:D})}}}catch(M){T={error:M}}finally{try{S&&!S.done&&(C=w.return)&&C.call(w)}finally{if(T)throw T.error}}};if(c(l,n),l.length>0){for(var h=a.getBarSpace().bar,p=a.getStyles().xAxis.tickText,d=ni(h,p),v=l[l.length-1].dataIndex+d-1,g=[],f=v;f<o;f++){var y=a.dataIndexToTimestamp(f);L(y)&&g.push({timestamp:y})}if(g.length>0){var x=new Map;ii(x,g,a.getDateTimeFormat(),v),c(be(x,h,p),v)}}return j(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:u}):u},e.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),i=t.xAxis,n=i.size;if(n!=="auto")return n;var o=t.crosshair,a=0;i.show&&(i.axisLine.show&&(a+=i.axisLine.size),i.tickLine.show&&(a+=i.tickLine.length),i.tickText.show&&(a+=i.tickText.marginStart+i.tickText.marginEnd+i.tickText.size));var s=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(s+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+2*o.vertical.text.borderSize+o.vertical.text.size),Math.max(a,s)},e.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},e.prototype.convertTimestampFromPixel=function(t){var i=this.getParent().getChart().getChartStore(),n=i.coordinateToDataIndex(t);return i.dataIndexToTimestamp(n)},e.prototype.convertTimestampToPixel=function(t){var i=this.getParent().getChart().getChartStore(),n=i.timestampToDataIndex(t);return i.dataIndexToCoordinate(n)},e.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},e.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},e.extend=function(t){var i=function(n){function o(a){return n.call(this,a,t)||this}return N(o,n),o}(e);return i},e}(Si),Se={normal:Ri.extend({name:"normal"})},ir=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return N(e,r),e.prototype.createAxisComponent=function(t){var i=function(n){var o;return(o=Se[n])!==null&&o!==void 0?o:Se.normal}(t);return new i(this)},e.prototype.createMainWidget=function(t){return new er(t,this)},e}(Mi),nr=function(r){function e(t,i){var n,o,a,s=r.call(this,t,i)||this;return s._dragFlag=!1,s._dragStartY=0,s._topPaneHeight=0,s._bottomPaneHeight=0,s._topPane=null,s._bottomPane=null,s._pressedMouseMoveEvent=(n=s._pressedTouchMouseMoveEvent,o=20,a=0,function(){var l=Date.now();l-a>o&&(n.apply(this,arguments),a=l)}),s.registerEvent("touchStartEvent",s._mouseDownEvent.bind(s)).registerEvent("touchMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("touchEndEvent",s._mouseUpEvent.bind(s)).registerEvent("mouseDownEvent",s._mouseDownEvent.bind(s)).registerEvent("mouseUpEvent",s._mouseUpEvent.bind(s)).registerEvent("pressedMouseMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("mouseEnterEvent",s._mouseEnterEvent.bind(s)).registerEvent("mouseLeaveEvent",s._mouseLeaveEvent.bind(s)),s}return N(e,r),e.prototype.getName=function(){return jt},e.prototype.checkEventOn=function(){return!0},e.prototype._mouseDownEvent=function(t){var i=this;this._dragFlag=!0,this._dragStartY=t.pageY;var n=this.getPane(),o=n.getChart();this._topPane=n.getTopPane(),this._bottomPane=n.getBottomPane();var a=o.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var s=a.findIndex(function(h){var p;return h.getId()===((p=i._topPane)===null||p===void 0?void 0:p.getId())}),l=s-1;l>-1;l--){var u=a[l];if(u.getOptions().state!=="minimize"){this._topPane=u;break}}if(this._bottomPane.getOptions().state==="minimize")for(s=a.findIndex(function(h){var p;return h.getId()===((p=i._bottomPane)===null||p===void 0?void 0:p.getId())}),l=s+1;l<a.length;l++){var c=a[l];if(c.getOptions().state!=="minimize"){this._bottomPane=c;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},e.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},e.prototype._pressedTouchMouseMoveEvent=function(t){var i=t.pageY-this._dragStartY,n=i<0;if(E(this._topPane)&&E(this._bottomPane)){var o=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&o.state!=="minimize"&&o.dragEnabled){var a=null,s=null,l=0,u=0;n?(a=this._topPane,s=this._bottomPane,l=this._topPaneHeight,u=this._bottomPaneHeight):(a=this._bottomPane,s=this._topPane,l=this._bottomPaneHeight,u=this._topPaneHeight);var c=a.getOptions().minHeight;if(l>c){var h=Math.max(l-Math.abs(i),c),p=l-h;a.setBounding({height:h}),s.setBounding({height:u+p});var d=this.getPane(),v=d.getChart();v.getChartStore().executeAction(m.ActionType.OnPaneDrag,{paneId:d.getId()}),v.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},e.prototype._mouseEnterEvent=function(){var t=this.getPane();if(t.getBottomPane().getOptions().dragEnabled){var i=t.getChart().getStyles().separator;return this.getContainer().style.background=i.activeBackgroundColor,!0}return!1},e.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this.getContainer().style.background="transparent",!0)},e.prototype.createContainer=function(){return gt("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},e.prototype.updateImp=function(t,i,n){if(n===4||n===2){var o=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((7-o.size)/2),"px"),t.style.height="".concat(7,"px")}},e}(pi),rr=function(r){function e(t,i,n,o){var a=r.call(this,t,i)||this;return a.getContainer().style.overflow="",a._topPane=n,a._bottomPane=o,a._separatorWidget=new nr(a.getContainer(),a),a}return N(e,r),e.prototype.setBounding=function(t){return Y(this.getBounding(),t),this},e.prototype.getTopPane=function(){return this._topPane},e.prototype.setTopPane=function(t){return this._topPane=t,this},e.prototype.getBottomPane=function(){return this._bottomPane},e.prototype.setBottomPane=function(t){return this._bottomPane=t,this},e.prototype.getWidget=function(){return this._separatorWidget},e.prototype.getImage=function(t){var i=this.getBounding(),n=i.width,o=i.height,a=this.getChart().getStyles().separator,s=gt("canvas",{width:"".concat(n,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),l=s.getContext("2d"),u=St(s);return s.width=n*u,s.height=o*u,l.scale(u,u),l.fillStyle=a.color,l.fillRect(0,0,n,o),s},e.prototype.updateImp=function(t,i,n){if(t===4||t===2){var o=this.getChart().getStyles().separator;i.style.backgroundColor=o.color,i.style.height="".concat(n.height,"px"),i.style.marginLeft="".concat(n.left,"px"),i.style.width="".concat(n.width,"px"),this._separatorWidget.update(t)}},e}(Di);function Bi(){return typeof window<"u"&&window.navigator.userAgent.toLowerCase().includes("firefox")}function Pe(){return typeof window<"u"&&/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var Ie,or=5,ar=5,Fi=5,Li=30,ke=0,sr=1,lr=2,ur=function(){function r(e,t,i){var n=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!Pe(),this._onFirefoxOutsideMouseUp=function(o){n._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){n._firesTouchEvents(o)?(++n._tapCount,n._tapTimeoutId!==null&&n._tapCount>1&&(n._mouseTouchMoveWithDownInfo(n._getCoordinate(o),n._tapCoordinate).manhattanDistance<Li&&!n._cancelTap&&n._processEvent(n._makeCompatEvent(o),n._handler.doubleTapEvent),n._resetTapTimeout())):(++n._clickCount,n._clickTimeoutId!==null&&n._clickCount>1&&(n._mouseTouchMoveWithDownInfo(n._getCoordinate(o),n._clickCoordinate).manhattanDistance<Fi&&!n._cancelClick&&n._processEvent(n._makeCompatEvent(o),n._handler.mouseDoubleClickEvent),n._resetClickTimeout()))},this._target=e,this._handler=t,this._options=i,this._init()}return r.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},r.prototype._mouseEnterHandler=function(e){var t,i,n,o=this;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(n=this._unsubscribeContextMenu)===null||n===void 0||n.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){o._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var s=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){o._target.removeEventListener("wheel",s)},this._target.addEventListener("wheel",s,{passive:!1});var l=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){o._target.removeEventListener("contextmenu",l)},this._target.addEventListener("contextmenu",l,{passive:!1}),this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},r.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},r.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},r.prototype._mouseMoveHandler=function(e){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},r.prototype._mouseWheelHandler=function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(!E(this._handler.mouseWheelHortEvent)||(this._preventDefault(e),Math.abs(e.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(e),-e.deltaX)}else{if(!E(this._handler.mouseWheelVertEvent))return;var t=-e.deltaY/100;if(t===0)return;switch(this._preventDefault(e),e.deltaMode){case e.DOM_DELTA_PAGE:t*=120;break;case e.DOM_DELTA_LINE:t*=32}if(t!==0){var i=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(e),i)}}},r.prototype._contextMenuHandler=function(e){this._preventDefault(e)},r.prototype._touchMoveHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),n=i.xOffset,o=i.yOffset,a=i.manhattanDistance;if(this._touchMoveExceededManhattanDistance||!(a<ar)){if(!this._touchMoveExceededManhattanDistance){var s=.5*n,l=o>=s&&!this._options.treatVertDragAsPageScroll(),u=s>o&&!this._options.treatHorzDragAsPageScroll();l||u||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(e,t),this._handler.touchMoveEvent)}}},r.prototype._mouseMoveWithDownHandler=function(e){e.button===ke&&(this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._mouseMoveStartCoordinate).manhattanDistance>=or&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(e),this._handler.pressedMouseMoveEvent))},r.prototype._mouseTouchMoveWithDownInfo=function(e,t){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return{xOffset:i,yOffset:n,manhattanDistance:i+n}},r.prototype._touchEndHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._makeCompatEvent(e,t);this._processEvent(i,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1?(this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance<Li&&!this._cancelTap&&this._processEvent(i,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(i,this._handler.tapEvent),E(this._handler.tapEvent)&&this._preventDefault(e)),this._tapCount===0&&this._preventDefault(e),e.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(e))}},r.prototype._mouseUpHandler=function(e){if(e.button===ke){var t=this._makeCompatEvent(e);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),Bi()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(e)||(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1?(this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._clickCoordinate).manhattanDistance<Fi&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent))}},r.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},r.prototype._touchStartHandler=function(e){if(this._activeTouchId===null){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(e);var i=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){i.removeEventListener("touchmove",n),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",n,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),500),this._processEvent(this._makeCompatEvent(e,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(t))}},r.prototype._mouseDownHandler=function(e){if(e.button===lr)return this._preventDefault(e),void this._processEvent(this._makeCompatEvent(e),this._handler.mouseRightClickEvent);if(e.button===ke){var t=this._target.ownerDocument.documentElement;Bi()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var i=this._mouseMoveWithDownHandler.bind(this),n=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",n)},t.addEventListener("mousemove",i),t.addEventListener("mouseup",n),this._mousePressed=!0,this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(e)))}},r.prototype._init=function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var t=this._target.ownerDocument,i=function(n){e._handler.mouseDownOutsideEvent!=null&&(n.composed&&e._target.contains(n.composedPath()[0])||n.target!==null&&e._target.contains(n.target)||e._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",i)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",i)},t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0}),Pe()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(n){if(n.button===sr)return n.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},r.prototype._initPinch=function(){var e=this;(E(this._handler.pinchStartEvent)||E(this._handler.pinchEvent)||E(this._handler.pinchEndEvent))&&(this._target.addEventListener("touchstart",function(t){e._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(t.touches.length===2&&e._startPinchMiddleCoordinate!==null&&E(e._handler.pinchEvent)){var i=e._getTouchDistance(t.touches[0],t.touches[1])/e._startPinchDistance;e._handler.pinchEvent(A(A({},e._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),e._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){e._checkPinchState(t.touches)}))},r.prototype._checkPinchState=function(e){e.length===1&&(this._pinchPrevented=!1),e.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},r.prototype._startPinch=function(e){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,y:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(e[0],e[1]),E(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},r.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,E(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},r.prototype._mouseLeaveHandler=function(e){var t,i,n;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(n=this._unsubscribeContextMenu)===null||n===void 0||n.call(this),this._firesTouchEvents(e)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!Pe())},r.prototype._longTapHandler=function(e){var t=this._touchWithId(e.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(e,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},r.prototype._firesTouchEvents=function(e){var t;return E((t=e.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?e.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(e)<this._lastTouchEventTimeStamp+500},r.prototype._processEvent=function(e,t){t?.call(this._handler,e)},r.prototype._makeCompatEvent=function(e,t){var i=this,n=t??e,o=this._target.getBoundingClientRect();return{x:n.clientX-o.left,y:n.clientY-o.top,pageX:n.pageX,pageY:n.pageY,isTouch:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click"&&e.type!=="wheel",preventDefault:function(){e.type!=="touchstart"&&i._preventDefault(e)}}},r.prototype._getTouchDistance=function(e,t){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},r.prototype._preventDefault=function(e){e.cancelable&&e.preventDefault()},r.prototype._getCoordinate=function(e){return{x:e.pageX,y:e.pageY}},r.prototype._eventTimeStamp=function(e){var t;return(t=e.timeStamp)!==null&&t!==void 0?t:performance.now()},r.prototype._touchWithId=function(e,t){for(var i=0;i<e.length;++i)if(e[i].identifier===t)return e[i];return null},r}(),cr=function(){function r(e,t){var i=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(n){if(n.shiftKey)switch(n.code){case"Equal":i._chart.getChartStore().zoom(.5);break;case"Minus":i._chart.getChartStore().zoom(-.5);break;case"ArrowLeft":(o=i._chart.getChartStore()).startScroll(),o.scroll(-3*o.getBarSpace().bar);break;case"ArrowRight":var o;(o=i._chart.getChartStore()).startScroll(),o.scroll(3*o.getBarSpace().bar)}},this._container=e,this._chart=t,this._event=new ur(e,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),e.addEventListener("keydown",this._boundKeyBoardDownEvent)}return r.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},r.prototype.pinchEvent=function(e,t){var i=this._findWidgetByEvent(e),n=i.pane,o=i.widget;if(n?.getId()!==H&&o?.getName()===$){var a=this._makeWidgetEvent(e,o),s=5*(t-this._pinchScale);return this._pinchScale=t,this._chart.getChartStore().zoom(s,{x:a.x,y:a.y}),!0}return!1},r.prototype.mouseWheelHortEvent=function(e,t){var i=this._chart.getChartStore();return i.startScroll(),i.scroll(t),!0},r.prototype.mouseWheelVertEvent=function(e,t){var i=this._findWidgetByEvent(e).widget,n=this._makeWidgetEvent(e,i);return i?.getName()===$&&(this._chart.getChartStore().zoom(t,{x:n.x,y:n.y}),!0)},r.prototype.mouseDownEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,n=t.widget;if(this._mouseDownWidget=n,n!==null){var o=this._makeWidgetEvent(e,n);switch(n.getName()){case jt:return n.dispatchEvent("mouseDownEvent",o);case $:var a=i.getAxisComponent().getRange();return this._prevYAxisRange=A({},a),this._startScrollCoordinate={x:o.x,y:o.y},this._chart.getChartStore().startScroll(),n.dispatchEvent("mouseDownEvent",o);case ft:return this._processXAxisScrollStartEvent(n,o);case ut:return this._processYAxisScaleStartEvent(n,o)}}return!1},r.prototype.mouseMoveEvent=function(e){var t,i,n,o=this._findWidgetByEvent(e),a=o.pane,s=o.widget,l=this._makeWidgetEvent(e,s);if(((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())===a?.getId()&&((i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0?void 0:i.getName())===s?.getName()||(s?.dispatchEvent("mouseEnterEvent",l),(n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0||n.dispatchEvent("mouseLeaveEvent",l),this._mouseMoveTriggerWidgetInfo={pane:a,widget:s}),s!==null)switch(s.getName()){case $:var u=s.dispatchEvent("mouseMoveEvent",l),c=this._chart.getChartStore(),h={x:l.x,y:l.y,paneId:a?.getId()};return u&&c.getActiveTooltipIcon()!==null&&(h=void 0,s.getContainer().style.cursor="pointer"),this._chart.getChartStore().setCrosshair(h),u;case jt:case ft:case ut:return u=s.dispatchEvent("mouseMoveEvent",l),this._chart.getChartStore().setCrosshair(),u}return!1},r.prototype.pressedMouseMoveEvent=function(e){var t,i;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===jt)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",e);var n=this._findWidgetByEvent(e),o=n.pane,a=n.widget;if(a!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===o?.getId()&&((i=this._mouseDownWidget)===null||i===void 0?void 0:i.getName())===a.getName()){var s=this._makeWidgetEvent(e,a);switch(a.getName()){case $:var l=a.dispatchEvent("pressedMouseMoveEvent",s);return l||this._processMainScrollingEvent(a,s),this._chart.getChartStore().setCrosshair({x:s.x,y:s.y,paneId:o?.getId()}),l;case ft:return this._processXAxisScrollingEvent(a,s);case ut:return this._processYAxisScalingEvent(a,s)}}return!1},r.prototype.mouseUpEvent=function(e){var t=this._findWidgetByEvent(e).widget,i=!1;if(t!==null){var n=this._makeWidgetEvent(e,t);switch(t.getName()){case $:case jt:case ft:case ut:i=t.dispatchEvent("mouseUpEvent",n)}i&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,i},r.prototype.mouseClickEvent=function(e){var t=this._findWidgetByEvent(e).widget;if(t!==null){var i=this._makeWidgetEvent(e,t);return t.dispatchEvent("mouseClickEvent",i)}return!1},r.prototype.mouseRightClickEvent=function(e){var t=this._findWidgetByEvent(e).widget,i=!1;if(t!==null){var n=this._makeWidgetEvent(e,t);switch(t.getName()){case $:case ft:case ut:i=t.dispatchEvent("mouseRightClickEvent",n)}i&&this._chart.updatePane(1)}return!1},r.prototype.mouseDoubleClickEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,n=t.widget;if(n!==null)switch(n.getName()){case $:var o=this._makeWidgetEvent(e,n);return n.dispatchEvent("mouseDoubleClickEvent",o);case ut:var a=i.getAxisComponent();if(!a.getAutoCalcTickFlag())return a.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0}return!1},r.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},r.prototype.touchStartEvent=function(e){var t,i,n=this._findWidgetByEvent(e),o=n.pane,a=n.widget;if(a!==null){var s=this._makeWidgetEvent(e,a);switch(a.getName()){case $:var l=this._chart.getChartStore();if(a.dispatchEvent("mouseDownEvent",s))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,l.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0;this._flingScrollRequestId!==null&&(Ge(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();var u=o.getAxisComponent().getRange();if(this._prevYAxisRange=A({},u),this._startScrollCoordinate={x:s.x,y:s.y},l.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var c=s.x-this._touchCoordinate.x,h=s.y-this._touchCoordinate.y;Math.sqrt(c*c+h*h)<10?(this._touchCoordinate={x:s.x,y:s.y},l.setCrosshair({x:s.x,y:s.y,paneId:o?.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,l.setCrosshair())}return!0;case ft:return(p=this._processXAxisScrollStartEvent(a,s))&&((t=s.preventDefault)===null||t===void 0||t.call(s)),p;case ut:var p;return(p=this._processYAxisScaleStartEvent(a,s))&&((i=s.preventDefault)===null||i===void 0||i.call(s)),p}}return!1},r.prototype.touchMoveEvent=function(e){var t,i,n,o,a=this._findWidgetByEvent(e),s=a.pane,l=a.widget;if(l!==null){var u=this._makeWidgetEvent(e,l),c=l.getName(),h=this._chart.getChartStore();switch(c){case $:return l.dispatchEvent("pressedMouseMoveEvent",u)?((t=u.preventDefault)===null||t===void 0||t.call(u),h.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0):(this._touchCoordinate!==null?((i=u.preventDefault)===null||i===void 0||i.call(u),h.setCrosshair({x:u.x,y:u.y,paneId:s?.getId()})):this._processMainScrollingEvent(l,u),!0);case ft:return(p=this._processXAxisScrollingEvent(l,u))&&((n=u.preventDefault)===null||n===void 0||n.call(u)),p;case ut:var p;return(p=this._processYAxisScalingEvent(l,u))&&((o=u.preventDefault)===null||o===void 0||o.call(u)),p}}return!1},r.prototype.touchEndEvent=function(e){var t=this,i=this._findWidgetByEvent(e).widget;if(i!==null){var n=this._makeWidgetEvent(e,i);switch(i.getName()){case $:if(i.dispatchEvent("mouseUpEvent",n),this._startScrollCoordinate!==null){var o=new Date().getTime()-this._flingStartTime,a=(n.x-this._startScrollCoordinate.x)/(o>0?o:1)*20;if(o<200&&Math.abs(a)>0){var s=this._chart.getChartStore(),l=function(){t._flingScrollRequestId=ee(function(){s.startScroll(),s.scroll(a),a*=.975,Math.abs(a)<1?t._flingScrollRequestId!==null&&(Ge(t._flingScrollRequestId),t._flingScrollRequestId=null):l()})};l()}}return!0;case ft:case ut:i.dispatchEvent("mouseUpEvent",n)&&this._chart.updatePane(1)}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1},r.prototype.tapEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,n=t.widget,o=!1;if(n!==null){var a=this._makeWidgetEvent(e,n),s=n.dispatchEvent("mouseClickEvent",a);if(n.getName()===$){var l=this._makeWidgetEvent(e,n),u=this._chart.getChartStore();s?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,u.setCrosshair(void 0,{notInvalidate:!0}),o=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:l.x,y:l.y},u.setCrosshair({x:l.x,y:l.y,paneId:i?.getId()},{notInvalidate:!0}),o=!0),this._touchCancelCrosshair=!1)}(o||s)&&this._chart.updatePane(1)}return o},r.prototype.doubleTapEvent=function(e){return this.mouseDoubleClickEvent(e)},r.prototype.longTapEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,n=t.widget;if(n!==null&&n.getName()===$){var o=this._makeWidgetEvent(e,n);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().setCrosshair({x:o.x,y:o.y,paneId:i?.getId()}),!0}return!1},r.prototype._processMainScrollingEvent=function(e,t){if(this._startScrollCoordinate!==null){var i=e.getPane().getAxisComponent(),n=e.getBounding();if(this._prevYAxisRange!==null&&!i.getAutoCalcTickFlag()&&i.scrollZoomEnabled){var o=this._prevYAxisRange,a=o.from,s=o.to,l=o.range*((i.reverse?this._startScrollCoordinate.y-t.y:t.y-this._startScrollCoordinate.y)/n.height),u=a+l,c=s+l,h=i.valueToRealValue(u,{range:this._prevYAxisRange}),p=i.valueToRealValue(c,{range:this._prevYAxisRange}),d=i.realValueToDisplayValue(h,{range:this._prevYAxisRange}),v=i.realValueToDisplayValue(p,{range:this._prevYAxisRange});i.setRange({from:u,to:c,range:c-u,realFrom:h,realTo:p,realRange:p-h,displayFrom:d,displayTo:v,displayRange:v-d})}var g=t.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(g)}},r.prototype._processXAxisScrollStartEvent=function(e,t){var i=e.dispatchEvent("mouseDownEvent",t);return i&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:t.x,y:t.y},this._xAxisStartScaleDistance=t.pageX,i},r.prototype._processXAxisScrollingEvent=function(e,t){var i,n=e.dispatchEvent("pressedMouseMoveEvent",t);if(n)this._chart.updatePane(1);else if(e.getPane().getAxisComponent().scrollZoomEnabled){var o=this._xAxisStartScaleDistance/t.pageX;if(Number.isFinite(o)){var a=10*(o-this._xAxisScale);this._xAxisScale=o,this._chart.getChartStore().zoom(a,(i=this._xAxisStartScaleCoordinate)!==null&&i!==void 0?i:void 0)}}return n},r.prototype._processYAxisScaleStartEvent=function(e,t){var i=e.dispatchEvent("mouseDownEvent",t);i&&this._chart.updatePane(1);var n=e.getPane().getAxisComponent().getRange();return this._prevYAxisRange=A({},n),this._yAxisStartScaleDistance=t.pageY,i},r.prototype._processYAxisScalingEvent=function(e,t){var i=e.dispatchEvent("pressedMouseMoveEvent",t);if(i)this._chart.updatePane(1);else{var n=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&n.scrollZoomEnabled){var o=this._prevYAxisRange,a=o.from,s=o.to,l=o.range,u=l*(t.pageY/this._yAxisStartScaleDistance),c=(u-l)/2,h=a-c,p=s+c,d=n.valueToRealValue(h,{range:this._prevYAxisRange}),v=n.valueToRealValue(p,{range:this._prevYAxisRange}),g=n.realValueToDisplayValue(d,{range:this._prevYAxisRange}),f=n.realValueToDisplayValue(v,{range:this._prevYAxisRange});n.setRange({from:h,to:p,range:u,realFrom:d,realTo:v,realRange:v-d,displayFrom:g,displayTo:f,displayRange:f-g}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return i},r.prototype._findWidgetByEvent=function(e){var t,i,n,o,a=e.x,s=e.y,l=this._chart.getSeparatorPanes(),u=this._chart.getStyles().separator.size;try{for(var c=tt(l),h=c.next();!h.done;h=c.next()){var p=pt(h.value,2)[1],d=(x=p.getBounding()).top-Math.round((7-u)/2);if(a>=x.left&&a<=x.left+x.width&&s>=d&&s<=d+7)return{pane:p,widget:p.getWidget()}}}catch(P){t={error:P}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}var v=this._chart.getDrawPanes(),g=null;try{for(var f=tt(v),y=f.next();!y.done;y=f.next()){var x,_=y.value;if(a>=(x=_.getBounding()).left&&a<=x.left+x.width&&s>=x.top&&s<=x.top+x.height){g=_;break}}}catch(P){n={error:P}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}var b=null;if(g!==null){if(!E(b)){var T=g.getMainWidget(),C=T.getBounding();a>=C.left&&a<=C.left+C.width&&s>=C.top&&s<=C.top+C.height&&(b=T)}if(!E(b)){var w=g.getYAxisWidget();if(w!==null){var S=w.getBounding();a>=S.left&&a<=S.left+S.width&&s>=S.top&&s<=S.top+S.height&&(b=w)}}}return{pane:g,widget:b}},r.prototype._makeWidgetEvent=function(e,t){var i,n,o,a=(i=t?.getBounding())!==null&&i!==void 0?i:null;return A(A({},e),{x:e.x-((n=a?.left)!==null&&n!==void 0?n:0),y:e.y-((o=a?.top)!==null&&o!==void 0?o:0)})},r.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},r}();m.DomPosition=void 0,(Ie=m.DomPosition||(m.DomPosition={})).Root="root",Ie.Main="main",Ie.YAxis="yAxis";var Oi=function(){function r(e,t){this._chartBounding=te(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._initContainer(e),this._chartEvent=new cr(this._chartContainer,this),this._chartStore=new Mn(this,t),this._initPanes(t),this._layout()}return r.prototype._initContainer=function(e){this._container=e,this._chartContainer=gt("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,e.appendChild(this._chartContainer),this._cacheChartBounding()},r.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},r.prototype._initPanes=function(e){var t,i=this,n=(t=e?.layout)!==null&&t!==void 0?t:[{type:"candle"}],o=function(s){var l,u;if(!E(i._candlePane)){var c=(l=s.options)!==null&&l!==void 0?l:{};Y(c,{id:K}),i._candlePane=i._createPane(Jn,K,c),((u=s.content)!==null&&u!==void 0?u:[]).forEach(function(h){i.createIndicator(h,!0,c)})}},a=function(s){if(!E(i._xAxisPane)){var l=i._createPane(ir,H,s??{});i._xAxisPane=l}};n.forEach(function(s){var l,u,c;switch(s.type){case"candle":o(s);break;case"indicator":var h=(l=s.content)!==null&&l!==void 0?l:[];if(h.length>0){var p=(c=(u=s.options)===null||u===void 0?void 0:u.id)!==null&&c!==void 0?c:null;E(p)&&(p=ie(hi));var d=A(A({},s.options),{id:p});h.forEach(function(v){i.createIndicator(v,!0,d)})}break;case"xAxis":a(s.options)}}),o({}),a({order:Number.MAX_SAFE_INTEGER})},r.prototype._createPane=function(e,t,i){var n=new e(this,t,i??{});return this._drawPanes.push(n),n},r.prototype._recalculatePaneHeight=function(e,t,i){if(i===0)return!1;var n=this._drawPanes.filter(function(h){var p=h.getId();return h.getOptions().state==="normal"&&p!==e.getId()&&p!==H}),o=n.length;if(o===0)return!1;if(e.getId()!==K&&E(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var a=this._candlePane.getBounding().height;if(a>0){var s=this._candlePane.getOptions().minHeight,l=a+i;l<s&&(t-=a+i-(l=s)),this._candlePane.setBounding({height:l})}}else{var u=i,c=Math.floor(i/o);n.forEach(function(h,p){var d=h.getBounding().height,v=0;(v=p===o-1?d+u:d+c)<h.getOptions().minHeight&&(v=h.getOptions().minHeight),h.setBounding({height:v}),u-=v-d}),Math.abs(u)>0&&(t-=u)}return e.setBounding({height:t}),!0},r.prototype.getDrawPaneById=function(e){if(e===K)return this._candlePane;if(e===H)return this._xAxisPane;var t=this._drawPanes.find(function(i){return i.getId()===e});return t??null},r.prototype.getContainer=function(){return this._container},r.prototype.getChartStore=function(){return this._chartStore},r.prototype.getXAxisPane=function(){return this._xAxisPane},r.prototype.getDrawPanes=function(){return this._drawPanes},r.prototype.getSeparatorPanes=function(){return this._separatorPanes},r.prototype.layout=function(e){var t,i,n,o,a,s,l=this;(t=e.sort)!==null&&t!==void 0&&t&&(this._layoutOptions.sort=e.sort),(i=e.measureHeight)!==null&&i!==void 0&&i&&(this._layoutOptions.measureHeight=e.measureHeight),(n=e.measureWidth)!==null&&n!==void 0&&n&&(this._layoutOptions.measureWidth=e.measureWidth),(o=e.update)!==null&&o!==void 0&&o&&(this._layoutOptions.update=e.update),(a=e.buildYAxisTick)!==null&&a!==void 0&&a&&(this._layoutOptions.buildYAxisTick=e.buildYAxisTick),(s=e.buildYAxisTick)!==null&&s!==void 0&&s&&(this._layoutOptions.forceBuildYAxisTick=e.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(u){l._layout(),l._layoutPending=!1}).catch(function(u){}))},r.prototype._layout=function(){var e=this,t=this._layoutOptions,i=t.sort,n=t.measureHeight,o=t.measureWidth,a=t.update,s=t.buildYAxisTick,l=t.forceBuildYAxisTick;if(i){for(;E(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort(function(I,R){return I.getOptions().order-R.getOptions().order});var u=null;this._drawPanes.forEach(function(I){if(I.getId()!==H){if(E(u)){var R=new rr(e,"",u,I);e._chartContainer.appendChild(R.getContainer()),e._separatorPanes.set(I,R)}u=I}e._chartContainer.appendChild(I.getContainer())})}if(n){var c=this._chartBounding.height,h=this.getStyles().separator.size,p=this._xAxisPane.getAxisComponent().getAutoSize(),d=c-p;d<0&&(d=0),this._drawPanes.forEach(function(I){var R=I.getId();if(E(e._separatorPanes.get(I))&&(d-=h),R!==H&&R!==K&&I.getVisible()){var F=I.getBounding().height;F>d?(F=d,d=0):d-=F,I.setBounding({height:F})}}),this._candlePane.setBounding({height:Math.max(d,0)}),this._xAxisPane.setBounding({height:p});var v=0;this._drawPanes.forEach(function(I){var R=e._separatorPanes.get(I);E(R)&&(R.setBounding({height:h,top:v}),v+=h),I.setBounding({top:v}),v+=I.getBounding().height})}var g=o;if((s||l)&&this._drawPanes.forEach(function(I){var R=I.getAxisComponent().buildTicks(l);g||(g=R)}),g){var f=this._chartBounding.width,y=this.getStyles(),x=0,_=!0,b=0,T=!0;this._drawPanes.forEach(function(I){if(I.getId()!==H){var R=I.getAxisComponent(),F=R.inside,V=R.getAutoSize();R.position===yt.Left?(x=Math.max(x,V),F&&(_=!1)):(b=Math.max(b,V),F&&(T=!1))}});var C=f,w=0,S=0;_&&(C-=x,w=x),T&&(C-=b,S=b),this._chartStore.setTotalBarSpace(C);var P={width:f},k={width:C,left:w,right:S},B={width:x},O={width:b},D=y.separator.fill,M={};M=D?P:k,this._drawPanes.forEach(function(I){var R;(R=e._separatorPanes.get(I))===null||R===void 0||R.setBounding(M),I.setBounding(P,k,B,O)})}a&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,forceBuildYAxisTick:!1}},r.prototype.updatePane=function(e,t){var i=this;if(E(t)){var n=this.getDrawPaneById(t);n?.update(e)}else this._drawPanes.forEach(function(o){var a;o.update(e),(a=i._separatorPanes.get(o))===null||a===void 0||a.update(e)})},r.prototype.crosshairChange=function(e){var t=this;if(this._chartStore.hasAction(m.ActionType.OnCrosshairChange)){var i={};this._drawPanes.forEach(function(n){var o=n.getId(),a={};t._chartStore.getIndicatorsByPaneId(o).forEach(function(s){var l,u=s.result;a[s.name]=u[(l=e.dataIndex)!==null&&l!==void 0?l:u.length-1]}),i[o]=a}),z(e.paneId)&&this._chartStore.executeAction(m.ActionType.OnCrosshairChange,A(A({},e),{indicatorData:i}))}},r.prototype.getDom=function(e,t){var i,n;if(!E(e))return this._chartContainer;var o=this.getDrawPaneById(e);if(E(o))switch(t??m.DomPosition.Root){case m.DomPosition.Root:return o.getContainer();case m.DomPosition.Main:return o.getMainWidget().getContainer();case m.DomPosition.YAxis:return(n=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getContainer())!==null&&n!==void 0?n:null}return null},r.prototype.getSize=function(e,t){var i,n;if(!E(e))return this._chartBounding;var o=this.getDrawPaneById(e);if(E(o))switch(t??m.DomPosition.Root){case m.DomPosition.Root:return o.getBounding();case m.DomPosition.Main:return o.getMainWidget().getBounding();case m.DomPosition.YAxis:return(n=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getBounding())!==null&&n!==void 0?n:null}return null},r.prototype.setPrecision=function(e){this._chartStore.setPrecision(e)},r.prototype.getPrecision=function(){return this._chartStore.getPrecision()},r.prototype.setStyles=function(e){var t=this;this._setOptions(function(){t._chartStore.setStyles(e)})},r.prototype.getStyles=function(){return this._chartStore.getStyles()},r.prototype.setCustomApi=function(e){var t=this;this._setOptions(function(){t._chartStore.setCustomApi(e)})},r.prototype.getCustomApi=function(){return this._chartStore.getCustomApi()},r.prototype.setLocale=function(e){var t=this;this._setOptions(function(){t._chartStore.setLocale(e)})},r.prototype.getLocale=function(){return this._chartStore.getLocale()},r.prototype.setTimezone=function(e){var t=this;this._setOptions(function(){t._chartStore.setTimezone(e)})},r.prototype.getTimezone=function(){return this._chartStore.getTimezone()},r.prototype.setThousandsSeparator=function(e){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(e)})},r.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},r.prototype.setDecimalFold=function(e){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(e)})},r.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},r.prototype._setOptions=function(e){e(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},r.prototype.setOffsetRightDistance=function(e){this._chartStore.setOffsetRightDistance(e,!0)},r.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},r.prototype.setMaxOffsetLeftDistance=function(e){e<0||this._chartStore.setMaxOffsetLeftDistance(e)},r.prototype.setMaxOffsetRightDistance=function(e){e<0||this._chartStore.setMaxOffsetRightDistance(e)},r.prototype.setLeftMinVisibleBarCount=function(e){e<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(e))},r.prototype.setRightMinVisibleBarCount=function(e){e<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(e))},r.prototype.setBarSpace=function(e){this._chartStore.setBarSpace(e)},r.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},r.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},r.prototype.clearData=function(){this._chartStore.clearData()},r.prototype.getDataList=function(){return this._chartStore.getDataList()},r.prototype.applyNewData=function(e,t){this._drawPanes.forEach(function(n){n.getAxisComponent().setAutoCalcTickFlag(!0)});var i={forward:!1,backward:!1};Ht(t)?(i.forward=t,i.backward=t):i=A(A({},i),t),this._chartStore.addData(e,et.Init,i)},r.prototype.updateData=function(e){this._chartStore.addData(e,et.Update)},r.prototype.setLoadMoreDataCallback=function(e){this._chartStore.setLoadMoreDataCallback(e)},r.prototype.createIndicator=function(e,t,i){var n,o=z(e)?{name:e}:e;if(oi(o.name)===null)return null;var a=i??{};if(z(a.id)||(a.id=ie(hi)),z(o.id)||(o.id=ie(o.name)),this._chartStore.addIndicator(o,a.id,t!=null&&t)){var s=!1;return E(this.getDrawPaneById(a.id))||(this._createPane(Ai,a.id,a),(n=a.height)!==null&&n!==void 0||(a.height=100),s=!0),this.setPaneOptions(a),this.layout({sort:s,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),o.id}return null},r.prototype.overrideIndicator=function(e){return this._chartStore.overrideIndicator(e)},r.prototype.getIndicators=function(e){return this._chartStore.getIndicatorsByFilter(e??{})},r.prototype.removeIndicator=function(e){var t=this,i=this._chartStore.removeIndicator(e??{});if(i){var n=!1,o=[];this._drawPanes.forEach(function(a){var s=a.getId();s!==K&&s!==H&&o.push(s)}),o.forEach(function(a){if(!t._chartStore.hasIndicators(a)){var s=t._drawPanes.findIndex(function(u){return u.getId()===a}),l=t._drawPanes[s];E(l)&&(n=!0,t._recalculatePaneHeight(l,0,l.getBounding().height),t._drawPanes.splice(s,1),l.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:n,measureHeight:n,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return i},r.prototype.createOverlay=function(e){var t=this,i=[],n=[],o=function(s){E(s.paneId)&&t.getDrawPaneById(s.paneId)!==null?n.push(!0):(s.paneId=K,n.push(!1)),i.push(s)};z(e)?o({name:e}):st(e)?e.forEach(function(s){var l=null;l=z(s)?{name:s}:s,o(l)}):o(e);var a=this._chartStore.addOverlays(i,n);return st(e)?a:a[0]},r.prototype.getOverlays=function(e){return this._chartStore.getOverlaysByFilter(e??{})},r.prototype.overrideOverlay=function(e){return this._chartStore.overrideOverlay(e)},r.prototype.removeOverlay=function(e){return this._chartStore.removeOverlay(e??{})},r.prototype.setPaneOptions=function(e){var t,i,n,o=this,a=!1,s=!1,l=E(e.id),u=function(d){var v=d.getId();if(l&&e.id===v||!l){if(v!==H){if(L(e.height)&&e.height>0){var g=Math.max((n=e.minHeight)!==null&&n!==void 0?n:d.getOptions().minHeight,0),f=Math.max(g,e.height);s=!0,a=!0,d.setOriginalBounding({height:f}),c._recalculatePaneHeight(d,f,-f)}if(E(e.state)&&d.getOptions().state!==e.state){a=!0,s=!0;var y=e.state;switch(y){case"maximize":if(!E(c._drawPanes.find(function(C){var w=C.getId();return C.getOptions().state==="maximize"&&w!==H}))){d.getOptions().state==="normal"&&d.setOriginalBounding({height:d.getBounding().height}),d.setOptions({state:y});var x=c._chartBounding.height;d.setBounding({height:x-c._xAxisPane.getBounding().height}),c._drawPanes.forEach(function(C){var w;C.getId()!==H&&C.getId()!==v&&(C.setBounding({height:C.getOriginalBounding().height}),C.setVisible(!1),(w=o._separatorPanes.get(C))===null||w===void 0||w.setVisible(!1))})}break;case"minimize":f=d.getBounding().height;var _=d.getOptions().state,b=f-30;_==="maximize"&&(b=d.getOriginalBounding().height-30),c._recalculatePaneHeight(d,30,b)&&(_==="normal"&&d.setOriginalBounding({height:f}),d.setOptions({state:y})),c._drawPanes.forEach(function(C){var w;C.getId()!==H&&(C.setVisible(!0),(w=o._separatorPanes.get(C))===null||w===void 0||w.setVisible(!0))});break;default:f=d.getOriginalBounding().height,c._recalculatePaneHeight(d,f,d.getBounding().height-f)&&d.setOptions({state:y}),c._drawPanes.forEach(function(C){var w;C.getId()!==H&&(C.setVisible(!0),(w=o._separatorPanes.get(C))===null||w===void 0||w.setVisible(!0))})}}}E(e.axis)&&(s=!0);var T=A({},e);if(delete T.state,d.setOptions(T),v===e.id)return"break"}},c=this;try{for(var h=tt(this._drawPanes),p=h.next();!p.done&&u(p.value)!=="break";p=h.next());}catch(d){t={error:d}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}s&&this.layout({measureHeight:a,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},r.prototype.getPaneOptions=function(e){var t;if(E(e)){var i=this.getDrawPaneById(e);return(t=i?.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(n){return n.getOptions()})},r.prototype.setZoomEnabled=function(e){this._chartStore.setZoomEnabled(e)},r.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},r.prototype.setScrollEnabled=function(e){this._chartStore.setScrollEnabled(e)},r.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},r.prototype.scrollByDistance=function(e,t){var i=this,n=L(t)&&t>0?t:0;if(this._chartStore.startScroll(),n>0){var o=new ye({duration:n});o.doFrame(function(a){var s=e*(a/n);i._chartStore.scroll(s)}),o.start()}else this._chartStore.scroll(e)},r.prototype.scrollToRealTime=function(e){var t=this._chartStore.getBarSpace().bar,i=(this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t)*t;this.scrollByDistance(i,e)},r.prototype.scrollToDataIndex=function(e,t){var i=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-e))*this._chartStore.getBarSpace().bar;this.scrollByDistance(i,t)},r.prototype.scrollToTimestamp=function(e,t){var i=_e(this.getDataList(),"timestamp",e);this.scrollToDataIndex(i,t)},r.prototype.zoomAtCoordinate=function(e,t,i){var n=this,o=L(i)&&i>0?i:0,a=this._chartStore.getBarSpace().bar,s=a*e-a;if(o>0){var l=0,u=new ye({duration:o});u.doFrame(function(c){var h=s*(c/o),p=(h-l)/n._chartStore.getBarSpace().bar*10;n._chartStore.zoom(p,t),l=h}),u.start()}else this._chartStore.zoom(s/a*10,t)},r.prototype.zoomAtDataIndex=function(e,t,i){var n=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:n,y:0},i)},r.prototype.zoomAtTimestamp=function(e,t,i){var n=_e(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,n,i)},r.prototype.convertToPixel=function(e,t){var i,n=this,o=t??{},a=o.paneId,s=a===void 0?K:a,l=o.absolute,u=l!==void 0&&l,c=[];if(s!==H){var h=this.getDrawPaneById(s);if(h!==null){var p=h.getBounding(),d=[].concat(e),v=this._xAxisPane.getAxisComponent(),g=h.getAxisComponent();c=d.map(function(f){var y={},x=f.dataIndex;if(L(f.timestamp)&&(x=n._chartStore.timestampToDataIndex(f.timestamp)),L(x)&&(y.x=v.convertToPixel(x)),L(f.value)){var _=g.convertToPixel(f.value);y.y=u?p.top+_:_}return y})}}return st(e)?c:(i=c[0])!==null&&i!==void 0?i:{}},r.prototype.convertFromPixel=function(e,t){var i,n=this,o=t??{},a=o.paneId,s=a===void 0?K:a,l=o.absolute,u=l!==void 0&&l,c=[];if(s!==H){var h=this.getDrawPaneById(s);if(h!==null){var p=h.getBounding(),d=[].concat(e),v=this._xAxisPane.getAxisComponent(),g=h.getAxisComponent();c=d.map(function(f){var y,x={};if(L(f.x)){var _=v.convertFromPixel(f.x);x.dataIndex=_,x.timestamp=(y=n._chartStore.dataIndexToTimestamp(_))!==null&&y!==void 0?y:void 0}if(L(f.y)){var b=u?f.y-p.top:f.y;x.value=g.convertFromPixel(b)}return x})}}return st(e)?c:(i=c[0])!==null&&i!==void 0?i:{}},r.prototype.executeAction=function(e,t){var i;if(e===m.ActionType.OnCrosshairChange){var n=A({},t);(i=n.paneId)!==null&&i!==void 0||(n.paneId=K),this._chartStore.setCrosshair(n,{notExecuteAction:!0})}},r.prototype.subscribeAction=function(e,t){this._chartStore.subscribeAction(e,t)},r.prototype.unsubscribeAction=function(e,t){this._chartStore.unsubscribeAction(e,t)},r.prototype.getConvertPictureUrl=function(e,t,i){var n=this,o=this._chartBounding,a=o.width,s=o.height,l=gt("canvas",{width:"".concat(a,"px"),height:"".concat(s,"px"),boxSizing:"border-box"}),u=l.getContext("2d"),c=St(l);l.width=a*c,l.height=s*c,u.scale(c,c),u.fillStyle=i??"#FFFFFF",u.fillRect(0,0,a,s);var h=e!=null&&e;return this._drawPanes.forEach(function(p){var d=n._separatorPanes.get(p);if(E(d)){var v=d.getBounding();u.drawImage(d.getImage(h),v.left,v.top,v.width,v.height)}var g=p.getBounding();u.drawImage(p.getImage(h),0,g.top,a,g.height)}),l.toDataURL("image/".concat(t??"jpeg"))},r.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},r.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(e){e.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._container.removeChild(this._chartContainer)},r}(),ae=new Map,hr=1,dr={clone:Ft,merge:Y,isString:z,isNumber:L,isValid:E,isObject:nt,isArray:st,isFunction:j,isBoolean:Ht,formatValue:G,formatPrecision:q,formatBigNumber:Ve,formatDate:Ne,formatThousands:ze,formatFoldDecimal:Ye,calcTextWidth:Xt,getLinearSlopeIntercept:re,getLinearYFromSlopeIntercept:Te,getLinearYFromCoordinates:Ut,checkCoordinateOnArc:xi,checkCoordinateOnCircle:gi,checkCoordinateOnLine:si,checkCoordinateOnPolygon:vi,checkCoordinateOnRect:fi,checkCoordinateOnText:_i};m.dispose=function(r){var e,t,i=null;if(r instanceof Oi)i=r.id;else{var n=null;i=(e=(n=z(r)?document.getElementById(r):r)==null?void 0:n.getAttribute("k-line-chart-id"))!==null&&e!==void 0?e:null}i!==null&&((t=ae.get(i))===null||t===void 0||t.destroy(),ae.delete(i))},m.getFigureClass=function(r){var e;return(e=qt[r])!==null&&e!==void 0?e:null},m.getOverlayClass=function(r){var e;return(e=Zt[r])!==null&&e!==void 0?e:null},m.getSupportedFigures=function(){return Object.keys(qt)},m.getSupportedIndicators=function(){return Object.keys(ne)},m.getSupportedLocales=function(){return Object.keys(oe)},m.getSupportedOverlays=function(){return Object.keys(Zt)},m.init=function(r,e){var t=null;if((t=z(r)?document.getElementById(r):r)===null)return null;var i=ae.get(t.id);if(E(i))return i;var n="k_line_chart_".concat(hr++);return(i=new Oi(t,e)).id=n,t.setAttribute("k-line-chart-id",n),ae.set(n,i),i},m.registerFigure=function(r){qt[r.name]=ai.extend(r)},m.registerIndicator=function(r){ne[r.name]=He.extend(r)},m.registerLocale=function(r,e){oe[r]=A(A({},oe[r]),e)},m.registerOverlay=function(r){Zt[r.name]=Xe.extend(r)},m.registerStyles=function(r,e){ci[r]=e},m.registerXAxis=function(r){Se[r.name]=Ri.extend(r)},m.registerYAxis=function(r){Ee[r.name]=Kt.extend(r)},m.utils=dr,m.version=function(){return"10.0.0-alpha3"}});</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f5f0d6d79a8fb0825e285ab72dc542cb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a81589ec><!--[--><div class="banner top" role="banner" data-v-c6670940><span data-v-c6670940>🔔  v9 将维护到 2025 年 3 月份，建议尽快迁移到新版本。</span><button class="banner-close" data-v-c6670940><span class="close" data-v-c6670940>×</span></button></div><!--]--><!--[--><span tabindex="-1" data-v-4b0d75f9></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4b0d75f9>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a81589ec data-v-52692729><div class="VPNavBar" data-v-52692729 data-v-e4cf6a3d><div class="wrapper" data-v-e4cf6a3d><div class="container" data-v-e4cf6a3d><div class="title" data-v-e4cf6a3d><div class="VPNavBarTitle has-sidebar" data-v-e4cf6a3d data-v-672d3570><a class="title" href="/" data-v-672d3570><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.svg" alt data-v-9f77e311><!--]--><span data-v-672d3570>KLineChart</span><!--[--><!--]--></a></div></div><div class="content" data-v-e4cf6a3d><div class="content-body" data-v-e4cf6a3d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-e4cf6a3d><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e4cf6a3d data-v-4f40684a><span id="main-nav-aria-label" class="visually-hidden" data-v-4f40684a> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/introduction" tabindex="0" data-v-4f40684a data-v-c9008b6d><!--[--><span data-v-c9008b6d>指南</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-4f40684a data-v-e37281e4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e37281e4><span class="text" data-v-e37281e4><!----><span data-v-e37281e4>API</span><span class="vpi-chevron-down text-icon" data-v-e37281e4></span></span></button><div class="menu" data-v-e37281e4><div class="VPMenu" data-v-e37281e4 data-v-cb77b9aa><div class="items" data-v-cb77b9aa><!--[--><!--[--><div class="VPMenuLink" data-v-cb77b9aa data-v-033f621f><a class="VPLink link" href="/api/chart/init" data-v-033f621f><!--[--><span data-v-033f621f>图表API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cb77b9aa data-v-033f621f><a class="VPLink link" href="/api/instance/getDom" data-v-033f621f><!--[--><span data-v-033f621f>实例API</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://pro.klinecharts.com" target="_blank" rel="noreferrer" tabindex="0" data-v-4f40684a data-v-c9008b6d><!--[--><span data-v-c9008b6d>Pro</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://preview.klinecharts.com" target="_blank" rel="noreferrer" tabindex="0" data-v-4f40684a data-v-c9008b6d><!--[--><span data-v-c9008b6d>预览</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/customize" tabindex="0" data-v-4f40684a data-v-c9008b6d><!--[--><span data-v-c9008b6d>定制</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sponsor" tabindex="0" data-v-4f40684a data-v-c9008b6d><!--[--><span data-v-c9008b6d>赞助</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4f40684a data-v-e37281e4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e37281e4><span class="text" data-v-e37281e4><!----><span data-v-e37281e4>10.0.0-alpha3</span><span class="vpi-chevron-down text-icon" data-v-e37281e4></span></span></button><div class="menu" data-v-e37281e4><div class="VPMenu" data-v-e37281e4 data-v-cb77b9aa><div class="items" data-v-cb77b9aa><!--[--><!--[--><div class="VPMenuLink" data-v-cb77b9aa data-v-033f621f><a class="VPLink link vp-external-link-icon" href="https://v9.klinecharts.com" target="_blank" rel="noreferrer" data-v-033f621f><!--[--><span data-v-033f621f>9.x 文档</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cb77b9aa data-v-033f621f><a class="VPLink link vp-external-link-icon" href="https://v8.klinecharts.com/zh-CN" target="_blank" rel="noreferrer" data-v-033f621f><!--[--><span data-v-033f621f>8.x 文档</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-e4cf6a3d data-v-128c29e3 data-v-e37281e4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-e37281e4><span class="text" data-v-e37281e4><span class="vpi-languages option-icon" data-v-e37281e4></span><!----><span class="vpi-chevron-down text-icon" data-v-e37281e4></span></span></button><div class="menu" data-v-e37281e4><div class="VPMenu" data-v-e37281e4 data-v-cb77b9aa><!----><!--[--><!--[--><div class="items" data-v-128c29e3><p class="title" data-v-128c29e3>🇨🇳 简体中文</p><!--[--><div class="VPMenuLink" data-v-128c29e3 data-v-033f621f><a class="VPLink link" href="/en-US/api/instance/zoomAtCoordinate" data-v-033f621f><!--[--><span data-v-033f621f>🇬🇧 English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-e4cf6a3d data-v-479549a6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-479549a6 data-v-51c74437 data-v-d1a27b73><span class="check" data-v-d1a27b73><span class="icon" data-v-d1a27b73><!--[--><span class="vpi-sun sun" data-v-51c74437></span><span class="vpi-moon moon" data-v-51c74437></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e4cf6a3d data-v-dde71a7f data-v-125545a3><!--[--><a class="VPSocialLink no-icon" href="https://github.com/klinecharts/KLineChart" aria-label="github" target="_blank" rel="noopener" data-v-125545a3 data-v-ec2bb9e4><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/klinecharts" aria-label target="_blank" rel="noopener" data-v-125545a3 data-v-ec2bb9e4><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="/more/feedback" aria-label target="_blank" rel="noopener" data-v-125545a3 data-v-ec2bb9e4><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e4cf6a3d data-v-0a68a217 data-v-e37281e4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e37281e4><span class="vpi-more-horizontal icon" data-v-e37281e4></span></button><div class="menu" data-v-e37281e4><div class="VPMenu" data-v-e37281e4 data-v-cb77b9aa><!----><!--[--><!--[--><div class="group translations" data-v-0a68a217><p class="trans-title" data-v-0a68a217>🇨🇳 简体中文</p><!--[--><div class="VPMenuLink" data-v-0a68a217 data-v-033f621f><a class="VPLink link" href="/en-US/api/instance/zoomAtCoordinate" data-v-033f621f><!--[--><span data-v-033f621f>🇬🇧 English</span><!--]--></a></div><!--]--></div><div class="group" data-v-0a68a217><div class="item appearance" data-v-0a68a217><p class="label" data-v-0a68a217>主题</p><div class="appearance-action" data-v-0a68a217><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-0a68a217 data-v-51c74437 data-v-d1a27b73><span class="check" data-v-d1a27b73><span class="icon" data-v-d1a27b73><!--[--><span class="vpi-sun sun" data-v-51c74437></span><span class="vpi-moon moon" data-v-51c74437></span><!--]--></span></span></button></div></div></div><div class="group" data-v-0a68a217><div class="item social-links" data-v-0a68a217><div class="VPSocialLinks social-links-list" data-v-0a68a217 data-v-125545a3><!--[--><a class="VPSocialLink no-icon" href="https://github.com/klinecharts/KLineChart" aria-label="github" target="_blank" rel="noopener" data-v-125545a3 data-v-ec2bb9e4><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/klinecharts" aria-label target="_blank" rel="noopener" data-v-125545a3 data-v-ec2bb9e4><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="/more/feedback" aria-label target="_blank" rel="noopener" data-v-125545a3 data-v-ec2bb9e4><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e4cf6a3d data-v-5cc45d55><span class="container" data-v-5cc45d55><span class="top" data-v-5cc45d55></span><span class="middle" data-v-5cc45d55></span><span class="bottom" data-v-5cc45d55></span></span></button></div></div></div></div><div class="divider" data-v-e4cf6a3d><div class="divider-line" data-v-e4cf6a3d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a81589ec data-v-aba0be1f><div class="container" data-v-aba0be1f><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-aba0be1f><span class="vpi-align-left menu-icon" data-v-aba0be1f></span><span class="menu-text" data-v-aba0be1f>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-aba0be1f data-v-89ac72d3><button data-v-89ac72d3>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-a81589ec data-v-e3a7590c><div class="curtain" data-v-e3a7590c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e3a7590c><span class="visually-hidden" id="sidebar-aria-label" data-v-e3a7590c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-afc6e66f><section class="VPSidebarItem level-0 has-active" data-v-afc6e66f data-v-cf1378d3><!----><div class="items" data-v-cf1378d3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getDom" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getDom</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getSize" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getSize</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setStyles" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setStyles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getStyles" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getStyles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setPrecision" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setPrecision</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getPrecision" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getPrecision</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setCustomApi" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setCustomApi</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getCustomApi" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getCustomApi</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setLocale" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setLocale</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getLocale" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getLocale</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setTimezone" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setTimezone</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getTimezone" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getTimezone</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setThousandsSeparator" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setThousandsSeparator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getThousandsSeparator" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getThousandsSeparator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setDecimalFold" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setDecimalFold</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getDecimalFold" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getDecimalFold</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setOffsetRightDistance" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setOffsetRightDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getOffsetRightDistance" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getOffsetRightDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setMaxOffsetLeftDistance" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setMaxOffsetLeftDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setMaxOffsetRightDistance" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setMaxOffsetRightDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setLeftMinVisibleBarCount" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setLeftMinVisibleBarCount</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setRightMinVisibleBarCount" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setRightMinVisibleBarCount</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setBarSpace" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setBarSpace</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getBarSpace" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getBarSpace</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/applyNewData" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>applyNewData</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/updateData" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>updateData</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setLoadMoreDataCallback" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setLoadMoreDataCallback</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getDataList" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getDataList</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getVisibleRange" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getVisibleRange</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/clearData" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>clearData</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/createIndicator" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>createIndicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/overrideIndicator" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>overrideIndicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getIndicators" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getIndicators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/removeIndicator" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>removeIndicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/createOverlay" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>createOverlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/overrideOverlay" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>overrideOverlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getOverlays" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getOverlays</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/removeOverlay" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>removeOverlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setPaneOptions" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setPaneOptions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getPaneOptions" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getPaneOptions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setZoomEnabled" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setZoomEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/isZoomEnabled" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>isZoomEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/setScrollEnabled" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>setScrollEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/isScrollEnabled" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>isScrollEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/scrollByDistance" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>scrollByDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/scrollToRealTime" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>scrollToRealTime</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/scrollToDataIndex" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>scrollToDataIndex</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/scrollToTimestamp" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>scrollToTimestamp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/zoomAtCoordinate" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>zoomAtCoordinate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/zoomAtDataIndex" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>zoomAtDataIndex</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/zoomAtTimestamp" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>zoomAtTimestamp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/convertToPixel" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>convertToPixel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/convertFromPixel" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>convertFromPixel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/executeAction" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>executeAction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/subscribeAction" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>subscribeAction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/unsubscribeAction" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>unsubscribeAction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/getConvertPictureUrl" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>getConvertPictureUrl</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-cf1378d3 data-v-cf1378d3><div class="item" data-v-cf1378d3><div class="indicator" data-v-cf1378d3></div><a class="VPLink link link" href="/api/instance/resize" data-v-cf1378d3><!--[--><p class="text" data-v-cf1378d3>resize</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a81589ec data-v-8e62d24e><div class="VPDoc has-sidebar has-aside" data-v-8e62d24e data-v-0aad25a4><!--[--><!--]--><div class="container" data-v-0aad25a4><div class="aside" data-v-0aad25a4><div class="aside-curtain" data-v-0aad25a4></div><div class="aside-container" data-v-0aad25a4><div class="aside-content" data-v-0aad25a4><div class="VPDocAside" data-v-0aad25a4 data-v-4b0800a9><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-4b0800a9 data-v-2deca922><div class="content" data-v-2deca922><div class="outline-marker" data-v-2deca922></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-2deca922>页面导航</div><ul class="VPDocOutlineItem root" data-v-2deca922 data-v-6a3b9211><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-4b0800a9></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><a class="asideSponsor" href="https://www.tradingx.cloud/" target="_blank" rel="noopener noreferrer" data-v-2e8097db><img class="" src="/images/sponsors/tradingx.png" alt="tradingx" data-v-2e8097db><span style="padding:6px 22px 0 22px;text-align:center;" data-v-2e8097db>以免费赋能专业，以创新重塑交易</span></a><!--]--><!--]--><!--]--><!--]--></div></div></div></div><div class="content" data-v-0aad25a4><div class="content-container" data-v-0aad25a4><!--[--><!--]--><main class="main" data-v-0aad25a4><div style="position:relative;" class="vp-doc _api_instance_zoomAtCoordinate" data-v-0aad25a4><div><h1 id="zoomatcoordinate-scale-coordinate-animationduration" tabindex="-1">zoomAtCoordinate(scale, coordinate?, animationDuration?) <a class="header-anchor" href="#zoomatcoordinate-scale-coordinate-animationduration" aria-label="Permalink to &quot;zoomAtCoordinate(scale, coordinate?, animationDuration?)&quot;">​</a></h1><p><code>zoomAtCoordinate</code> 在指定坐标点缩放。</p><h2 id="reference" tabindex="-1">参考 <a class="header-anchor" href="#reference" aria-label="Permalink to &quot;参考 {#reference}&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scale: number,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  coordinate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    x: number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    y: number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  animationDuration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span></span></code></pre></div><h3 id="parameters" tabindex="-1">参数 <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;参数 {#parameters}&quot;">​</a></h3><ul><li><code>scale</code> 缩放比例</li><li><code>coordinate</code> 坐标点。 <ul><li><code>x</code> 横坐标。</li><li><code>y</code> 纵坐标。</li></ul></li><li><code>animationDuration</code> 动画持续时间，如果小于等于0，则无动画。</li></ul><h3 id="returns" tabindex="-1">返回值 <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;返回值 {#returns}&quot;">​</a></h3><p><code>zoomAtCoordinate</code> 返回 <code>undefined</code> 。</p><h2 id="usage" tabindex="-1">用法 <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;用法 {#usage}&quot;">​</a></h2><h3 id="basic" tabindex="-1">基本用法 <a class="header-anchor" href="#basic" aria-label="Permalink to &quot;基本用法 {#basic}&quot;">​</a></h3><!----></div></div></main><footer class="VPDocFooter" data-v-0aad25a4 data-v-b2829995><!--[--><!--]--><div class="edit-info" data-v-b2829995><div class="edit-link" data-v-b2829995><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/klinecharts/KLineChart/edit/main/docs/api/instance/zoomAtCoordinate.md" target="_blank" rel="noreferrer" data-v-b2829995><!--[--><span class="vpi-square-pen edit-link-icon" data-v-b2829995></span> 在 GitHub 上编辑此页面<!--]--></a></div><div class="last-updated" data-v-b2829995><p class="VPLastUpdated" data-v-b2829995 data-v-b3934f33>最后更新于: <time datetime="2024-11-29T18:31:55.000Z" data-v-b3934f33></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-b2829995><span class="visually-hidden" id="doc-footer-aria-label" data-v-b2829995>Pager</span><div class="pager" data-v-b2829995><a class="VPLink link pager-link prev" href="/api/instance/scrollToTimestamp" data-v-b2829995><!--[--><span class="desc" data-v-b2829995>上一篇</span><span class="title" data-v-b2829995>scrollToTimestamp</span><!--]--></a></div><div class="pager" data-v-b2829995><a class="VPLink link pager-link next" href="/api/instance/zoomAtDataIndex" data-v-b2829995><!--[--><span class="desc" data-v-b2829995>下一篇</span><span class="title" data-v-b2829995>zoomAtDataIndex</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a81589ec data-v-33e4faa9><div class="container" data-v-33e4faa9><p class="message" data-v-33e4faa9>Released under the <a href="https://github.com/klinecharts/KLineChart/blob/main/LICENSE">Apache License V2</a>.</p><p class="copyright" data-v-33e4faa9>Copyright © 2018-2025 <a href="https://github.com/liihuu">liihuu</a></p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>